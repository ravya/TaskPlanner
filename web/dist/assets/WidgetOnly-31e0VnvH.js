import{j as e}from"./index-CLqb-Mdm.js";import{r as s}from"./router-Dhxk9fVh.js";import{g as i,o as b,x as w,y as j}from"./firebase-DKfP8a_B.js";import{T as v}from"./TodayStickiesWidget-CKs72Yle.js";import"./vendor-D3F3s8fL.js";import"./query-DYQ8p44K.js";function P(){const[c,u]=s.useState(!1),[m,x]=s.useState(!0),[g,h]=s.useState(!1),[n,p]=s.useState(""),[o,f]=s.useState(""),[l,d]=s.useState("");s.useEffect(()=>{const t=i(),a=b(t,r=>{u(!!r),x(!1),r||h(!0)});return()=>a()},[]);const y=async t=>{t.preventDefault(),d("");try{const a=i();await w(a,n,o)}catch{try{const r=i();await j(r,n,o)}catch(r){d(r.message||"Login failed")}}};return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"transparent"},children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500"})}):!c&&g?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-xs",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4 text-center",children:"ðŸ” Login"}),l&&e.jsx("p",{className:"text-red-500 text-xs mb-2 text-center",children:l}),e.jsxs("form",{onSubmit:y,children:[e.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:t=>p(t.target.value),className:"w-full px-3 py-2 mb-2 border border-gray-300 rounded text-sm",required:!0}),e.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:t=>f(t.target.value),className:"w-full px-3 py-2 mb-3 border border-gray-300 rounded text-sm",required:!0}),e.jsx("button",{type:"submit",className:"w-full py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-800 rounded font-medium text-sm",children:"Sign In"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"New? Enter email & password to create account"})]})}):e.jsx("div",{style:{minHeight:"100vh",background:"transparent",padding:"0"},children:e.jsx(v,{})})}export{P as default};
//# sourceMappingURL=WidgetOnly-31e0VnvH.js.map
