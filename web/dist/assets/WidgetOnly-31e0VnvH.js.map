{"version":3,"file":"WidgetOnly-31e0VnvH.js","sources":["../../src/pages/WidgetOnly.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { getAuth, onAuthStateChanged, signInWithEmailAndPassword, createUserWithEmailAndPassword } from 'firebase/auth';\nimport TodayStickiesWidget from '../components/TodayStickiesWidget';\n\nexport default function WidgetOnly() {\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [showLogin, setShowLogin] = useState(false);\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        const auth = getAuth();\n        const unsubscribe = onAuthStateChanged(auth, (user) => {\n            setIsAuthenticated(!!user);\n            setLoading(false);\n            if (!user) setShowLogin(true);\n        });\n        return () => unsubscribe();\n    }, []);\n\n    const handleLogin = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setError('');\n        try {\n            const auth = getAuth();\n            await signInWithEmailAndPassword(auth, email, password);\n        } catch (err: any) {\n            // Try to create account if login fails\n            try {\n                const auth = getAuth();\n                await createUserWithEmailAndPassword(auth, email, password);\n            } catch (createErr: any) {\n                setError(createErr.message || 'Login failed');\n            }\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center\" style={{ background: 'transparent' }}>\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500\"></div>\n            </div>\n        );\n    }\n\n    if (!isAuthenticated && showLogin) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center p-4\" style={{\n                background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)'\n            }}>\n                <div className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-xs\">\n                    <h2 className=\"text-lg font-bold text-gray-800 mb-4 text-center\">üîê Login</h2>\n                    {error && <p className=\"text-red-500 text-xs mb-2 text-center\">{error}</p>}\n                    <form onSubmit={handleLogin}>\n                        <input\n                            type=\"email\"\n                            placeholder=\"Email\"\n                            value={email}\n                            onChange={(e) => setEmail(e.target.value)}\n                            className=\"w-full px-3 py-2 mb-2 border border-gray-300 rounded text-sm\"\n                            required\n                        />\n                        <input\n                            type=\"password\"\n                            placeholder=\"Password\"\n                            value={password}\n                            onChange={(e) => setPassword(e.target.value)}\n                            className=\"w-full px-3 py-2 mb-3 border border-gray-300 rounded text-sm\"\n                            required\n                        />\n                        <button\n                            type=\"submit\"\n                            className=\"w-full py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-800 rounded font-medium text-sm\"\n                        >\n                            Sign In\n                        </button>\n                    </form>\n                    <p className=\"text-xs text-gray-500 mt-3 text-center\">\n                        New? Enter email & password to create account\n                    </p>\n                </div>\n            </div>\n        );\n    }\n\n    // Widget-only view - no padding, no extra UI\n    return (\n        <div style={{\n            minHeight: '100vh',\n            background: 'transparent',\n            padding: '0'\n        }}>\n            <TodayStickiesWidget />\n        </div>\n    );\n}\n"],"names":["WidgetOnly","isAuthenticated","setIsAuthenticated","useState","loading","setLoading","showLogin","setShowLogin","email","setEmail","password","setPassword","error","setError","useEffect","auth","getAuth","unsubscribe","onAuthStateChanged","user","handleLogin","e","signInWithEmailAndPassword","createUserWithEmailAndPassword","createErr","jsx","jsxs","TodayStickiesWidget"],"mappings":"gQAIA,SAAwBA,GAAa,CACjC,KAAM,CAACC,EAAiBC,CAAkB,EAAIC,EAAAA,SAAS,EAAK,EACtD,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAWC,CAAY,EAAIJ,EAAAA,SAAS,EAAK,EAC1C,CAACK,EAAOC,CAAQ,EAAIN,EAAAA,SAAS,EAAE,EAC/B,CAACO,EAAUC,CAAW,EAAIR,EAAAA,SAAS,EAAE,EACrC,CAACS,EAAOC,CAAQ,EAAIV,EAAAA,SAAS,EAAE,EAErCW,EAAAA,UAAU,IAAM,CACZ,MAAMC,EAAOC,EAAA,EACPC,EAAcC,EAAmBH,EAAOI,GAAS,CACnDjB,EAAmB,CAAC,CAACiB,CAAI,EACzBd,EAAW,EAAK,EACXc,GAAMZ,EAAa,EAAI,CAChC,CAAC,EACD,MAAO,IAAMU,EAAA,CACjB,EAAG,CAAA,CAAE,EAEL,MAAMG,EAAc,MAAOC,GAAuB,CAC9CA,EAAE,eAAA,EACFR,EAAS,EAAE,EACX,GAAI,CACA,MAAME,EAAOC,EAAA,EACb,MAAMM,EAA2BP,EAAMP,EAAOE,CAAQ,CAC1D,MAAmB,CAEf,GAAI,CACA,MAAMK,EAAOC,EAAA,EACb,MAAMO,EAA+BR,EAAMP,EAAOE,CAAQ,CAC9D,OAASc,EAAgB,CACrBX,EAASW,EAAU,SAAW,cAAc,CAChD,CACJ,CACJ,EAEA,OAAIpB,EAEIqB,EAAAA,IAAC,MAAA,CAAI,UAAU,gDAAgD,MAAO,CAAE,WAAY,aAAA,EAChF,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,iEAAiE,EACpF,EAIJ,CAACxB,GAAmBK,EAEhBmB,EAAAA,IAAC,MAAA,CAAI,UAAU,oDAAoD,MAAO,CACtE,WAAY,mDAAA,EAEZ,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACX,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,mDAAmD,SAAA,WAAQ,EACxEb,GAASa,EAAAA,IAAC,IAAA,CAAE,UAAU,wCAAyC,SAAAb,EAAM,EACtEc,EAAAA,KAAC,OAAA,CAAK,SAAUN,EACZ,SAAA,CAAAK,EAAAA,IAAC,QAAA,CACG,KAAK,QACL,YAAY,QACZ,MAAOjB,EACP,SAAWa,GAAMZ,EAASY,EAAE,OAAO,KAAK,EACxC,UAAU,+DACV,SAAQ,EAAA,CAAA,EAEZI,EAAAA,IAAC,QAAA,CACG,KAAK,WACL,YAAY,WACZ,MAAOf,EACP,SAAWW,GAAMV,EAAYU,EAAE,OAAO,KAAK,EAC3C,UAAU,+DACV,SAAQ,EAAA,CAAA,EAEZI,EAAAA,IAAC,SAAA,CACG,KAAK,SACL,UAAU,0FACb,SAAA,SAAA,CAAA,CAED,EACJ,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,yCAAyC,SAAA,+CAAA,CAEtD,CAAA,CAAA,CACJ,CAAA,CACJ,EAMJA,EAAAA,IAAC,OAAI,MAAO,CACR,UAAW,QACX,WAAY,cACZ,QAAS,GAAA,EAET,SAAAA,EAAAA,IAACE,EAAA,CAAA,CAAoB,CAAA,CACzB,CAER"}