{"version":3,"file":"Analytics-BEv7v1yw.js","sources":["../../src/pages/Analytics.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getAuth, signOut } from 'firebase/auth';\nimport { getFirestore, collection, query, where, getDocs } from 'firebase/firestore';\nimport { useNavigate, Link } from 'react-router-dom';\n\ninterface Task {\n  id: string;\n  title: string;\n  startDate: string;\n  status: string;\n  completed: boolean;\n  createdAt: any;\n  completedAt: any;\n  userId: string;\n}\n\ninterface DailyStats {\n  date: string;\n  total: number;\n  completed: number;\n  completionRate: number;\n}\n\nexport default function Analytics() {\n  const navigate = useNavigate();\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const [timeRange, setTimeRange] = useState<'week' | 'month' | '3months'>('week');\n\n  useEffect(() => {\n    const auth = getAuth();\n    const currentUser = auth.currentUser;\n\n\n    if (currentUser) {\n      loadTasks(currentUser.uid);\n    } else {\n      navigate('/login');\n    }\n  }, [navigate]);\n\n  const loadTasks = async (userId: string) => {\n    setLoading(true);\n    try {\n      const db = getFirestore();\n      const tasksRef = collection(db, 'tasks');\n      const q = query(tasksRef, where('userId', '==', userId));\n      const querySnapshot = await getDocs(q);\n\n      const loadedTasks: Task[] = [];\n      querySnapshot.forEach((doc) => {\n        loadedTasks.push({ id: doc.id, ...doc.data() } as Task);\n      });\n\n      setTasks(loadedTasks);\n    } catch (error) {\n      console.error('Error loading tasks:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      const auth = getAuth();\n      await signOut(auth);\n      navigate('/login');\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n  // Calculate daily statistics\n  const getDailyStats = (): DailyStats[] => {\n    const now = new Date();\n    const daysToShow = timeRange === 'week' ? 7 : timeRange === 'month' ? 30 : 90;\n    const stats: DailyStats[] = [];\n\n    for (let i = daysToShow - 1; i >= 0; i--) {\n      const date = new Date(now);\n      date.setDate(date.getDate() - i);\n      const dateStr = date.toISOString().split('T')[0];\n\n      const dayTasks = tasks.filter(t => t.startDate === dateStr);\n      const completedTasks = dayTasks.filter(t => t.status === 'completed' || t.completed);\n\n      stats.push({\n        date: dateStr,\n        total: dayTasks.length,\n        completed: completedTasks.length,\n        completionRate: dayTasks.length > 0 ? (completedTasks.length / dayTasks.length) * 100 : 0\n      });\n    }\n\n    return stats;\n  };\n\n  // Calculate average tasks per day\n  const getAverageTasksPerDay = (): number => {\n    const dailyStats = getDailyStats();\n    const daysWithTasks = dailyStats.filter(d => d.total > 0);\n    if (daysWithTasks.length === 0) return 0;\n\n    const totalTasks = daysWithTasks.reduce((sum, day) => sum + day.total, 0);\n    return Math.round((totalTasks / daysWithTasks.length) * 10) / 10;\n  };\n\n  // Calculate average completion rate\n  const getAverageCompletionRate = (): number => {\n    const dailyStats = getDailyStats();\n    const daysWithTasks = dailyStats.filter(d => d.total > 0);\n    if (daysWithTasks.length === 0) return 0;\n\n    const totalRate = daysWithTasks.reduce((sum, day) => sum + day.completionRate, 0);\n    return Math.round(totalRate / daysWithTasks.length);\n  };\n\n  // Suggest target task count\n  const getSuggestedTargetRange = (): { min: number; max: number; message: string } | null => {\n    const dailyStats = getDailyStats();\n    const daysWithTasks = dailyStats.filter(d => d.total > 0);\n\n    // Need at least 7 consecutive days of data for weekly pattern\n    if (timeRange === 'week' && daysWithTasks.length >= 7) {\n      const completedCounts = daysWithTasks.map(d => d.completed);\n      const avgCompleted = completedCounts.reduce((a, b) => a + b, 0) / completedCounts.length;\n      const avgCompletionRate = getAverageCompletionRate();\n\n      // If completion rate is good (>70%), suggest current range\n      if (avgCompletionRate >= 70) {\n        return {\n          min: Math.floor(avgCompleted * 0.9),\n          max: Math.ceil(avgCompleted * 1.1),\n          message: `Great job! You're completing ${avgCompletionRate}% of your tasks. Keep your daily tasks between ${Math.floor(avgCompleted * 0.9)}-${Math.ceil(avgCompleted * 1.1)} to maintain this performance.`\n        };\n      } else if (avgCompletionRate >= 50) {\n        // Moderate completion, suggest slightly fewer tasks\n        return {\n          min: Math.floor(avgCompleted * 0.7),\n          max: Math.ceil(avgCompleted * 0.9),\n          message: `You're completing ${avgCompletionRate}% of your tasks. Try reducing your daily tasks to ${Math.floor(avgCompleted * 0.7)}-${Math.ceil(avgCompleted * 0.9)} to improve completion rate.`\n        };\n      } else {\n        // Low completion, suggest significant reduction\n        return {\n          min: Math.floor(avgCompleted * 0.5),\n          max: Math.ceil(avgCompleted * 0.7),\n          message: `Your completion rate is ${avgCompletionRate}%. Consider reducing your daily tasks to ${Math.floor(avgCompleted * 0.5)}-${Math.ceil(avgCompleted * 0.7)} for better success.`\n        };\n      }\n    }\n\n    // For 3 weeks of data\n    if (timeRange === '3months' && daysWithTasks.length >= 21) {\n      const completedCounts = daysWithTasks.map(d => d.completed);\n      const avgCompleted = completedCounts.reduce((a, b) => a + b, 0) / completedCounts.length;\n      const avgCompletionRate = getAverageCompletionRate();\n\n      if (avgCompletionRate >= 70) {\n        return {\n          min: Math.floor(avgCompleted * 0.9),\n          max: Math.ceil(avgCompleted * 1.1),\n          message: `Excellent consistency over 3 weeks! ${avgCompletionRate}% completion rate. Maintain ${Math.floor(avgCompleted * 0.9)}-${Math.ceil(avgCompleted * 1.1)} tasks daily.`\n        };\n      } else {\n        return {\n          min: Math.floor(avgCompleted * 0.6),\n          max: Math.ceil(avgCompleted * 0.8),\n          message: `Based on 3 weeks of data (${avgCompletionRate}% completion), aim for ${Math.floor(avgCompleted * 0.6)}-${Math.ceil(avgCompleted * 0.8)} tasks daily.`\n        };\n      }\n    }\n\n    return null;\n  };\n\n  const dailyStats = getDailyStats();\n  const maxTasks = Math.max(...dailyStats.map(d => d.total), 1);\n  const avgTasksPerDay = getAverageTasksPerDay();\n  const avgCompletionRate = getAverageCompletionRate();\n  const targetRange = getSuggestedTargetRange();\n\n  const formatDate = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-6\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Task Analytics</h1>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Insights into your task completion patterns\n              </p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Link\n                to=\"/\"\n                className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n              >\n                ‚Üê Back to Dashboard\n              </Link>\n              <button\n                onClick={handleLogout}\n                className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 font-medium\"\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {loading ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-gray-500\">Loading analytics...</div>\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {/* Time Range Selector */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => setTimeRange('week')}\n                  className={`px-4 py-2 rounded-md font-medium ${timeRange === 'week'\n                    ? 'bg-blue-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                >\n                  Last 7 Days\n                </button>\n                <button\n                  onClick={() => setTimeRange('month')}\n                  className={`px-4 py-2 rounded-md font-medium ${timeRange === 'month'\n                    ? 'bg-blue-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                >\n                  Last 30 Days\n                </button>\n                <button\n                  onClick={() => setTimeRange('3months')}\n                  className={`px-4 py-2 rounded-md font-medium ${timeRange === '3months'\n                    ? 'bg-blue-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                >\n                  Last 90 Days\n                </button>\n              </div>\n            </div>\n\n            {/* Key Metrics */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-sm font-medium text-gray-500 mb-2\">Average Tasks/Day</h3>\n                <div className=\"text-3xl font-bold text-blue-600\">{avgTasksPerDay}</div>\n                <p className=\"text-xs text-gray-500 mt-2\">Tasks scheduled per day</p>\n              </div>\n\n              <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-sm font-medium text-gray-500 mb-2\">Completion Rate</h3>\n                <div className=\"text-3xl font-bold text-green-600\">{avgCompletionRate}%</div>\n                <p className=\"text-xs text-gray-500 mt-2\">Average completion rate</p>\n              </div>\n\n              <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-sm font-medium text-gray-500 mb-2\">Total Tasks</h3>\n                <div className=\"text-3xl font-bold text-purple-600\">{tasks.length}</div>\n                <p className=\"text-xs text-gray-500 mt-2\">All time</p>\n              </div>\n            </div>\n\n            {/* Target Suggestion */}\n            {targetRange && (\n              <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-lg shadow-lg p-6\">\n                <div className=\"flex items-start gap-3\">\n                  <svg className=\"w-6 h-6 text-blue-600 mt-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                  </svg>\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-blue-900 mb-2\">Suggested Daily Target</h3>\n                    <p className=\"text-sm text-blue-800 mb-3\">{targetRange.message}</p>\n                    <div className=\"inline-block px-4 py-2 bg-blue-600 text-white rounded-md font-bold\">\n                      Target: {targetRange.min} - {targetRange.max} tasks/day\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Daily Completion Graph */}\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <h2 className=\"text-xl font-semibold mb-6\">Daily Task Completion</h2>\n\n              <div className=\"space-y-3\">\n                {dailyStats.map((day) => (\n                  <div key={day.date} className=\"space-y-2\">\n                    <div className=\"flex justify-between text-sm\">\n                      <span className=\"font-medium text-gray-700\">{formatDate(day.date)}</span>\n                      <span className=\"text-gray-600\">\n                        {day.completed}/{day.total} tasks ({Math.round(day.completionRate)}%)\n                      </span>\n                    </div>\n\n                    <div className=\"relative h-8 bg-gray-100 rounded-full overflow-hidden\">\n                      {/* Total tasks bar (light blue) */}\n                      <div\n                        className=\"absolute top-0 left-0 h-full bg-blue-200\"\n                        style={{ width: `${(day.total / maxTasks) * 100}%` }}\n                      ></div>\n\n                      {/* Completed tasks bar (dark blue) */}\n                      <div\n                        className=\"absolute top-0 left-0 h-full bg-blue-600\"\n                        style={{ width: `${(day.completed / maxTasks) * 100}%` }}\n                      ></div>\n\n                      {/* Labels */}\n                      {day.total > 0 && (\n                        <div className=\"absolute inset-0 flex items-center justify-between px-3\">\n                          <span className=\"text-xs font-medium text-white\">\n                            {day.completed > 0 && `‚úì ${day.completed}`}\n                          </span>\n                          <span className=\"text-xs font-medium text-gray-700\">\n                            {day.total} total\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"mt-6 flex items-center gap-6 text-sm\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-4 h-4 bg-blue-600 rounded\"></div>\n                  <span className=\"text-gray-600\">Completed Tasks</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-4 h-4 bg-blue-200 rounded\"></div>\n                  <span className=\"text-gray-600\">Total Tasks</span>\n                </div>\n              </div>\n            </div>\n\n            {/* Additional Insights */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-semibold mb-4\">Best Performing Days</h3>\n                {dailyStats\n                  .filter(d => d.total > 0)\n                  .sort((a, b) => b.completionRate - a.completionRate)\n                  .slice(0, 5)\n                  .map((day, index) => (\n                    <div key={day.date} className=\"flex justify-between items-center py-2 border-b border-gray-100 last:border-0\">\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-2xl\">{index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : 'üìä'}</span>\n                        <span className=\"font-medium text-gray-700\">{formatDate(day.date)}</span>\n                      </div>\n                      <span className=\"text-green-600 font-semibold\">{Math.round(day.completionRate)}%</span>\n                    </div>\n                  ))}\n              </div>\n\n              <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-semibold mb-4\">Busiest Days</h3>\n                {dailyStats\n                  .filter(d => d.total > 0)\n                  .sort((a, b) => b.total - a.total)\n                  .slice(0, 5)\n                  .map((day, index) => (\n                    <div key={day.date} className=\"flex justify-between items-center py-2 border-b border-gray-100 last:border-0\">\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-2xl\">{index === 0 ? 'üìà' : 'üìä'}</span>\n                        <span className=\"font-medium text-gray-700\">{formatDate(day.date)}</span>\n                      </div>\n                      <span className=\"text-purple-600 font-semibold\">{day.total} tasks</span>\n                    </div>\n                  ))}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["Analytics","navigate","useNavigate","tasks","setTasks","useState","loading","setLoading","timeRange","setTimeRange","useEffect","currentUser","getAuth","loadTasks","userId","db","getFirestore","tasksRef","collection","q","query","where","querySnapshot","getDocs","loadedTasks","doc","error","handleLogout","auth","signOut","getDailyStats","now","daysToShow","stats","i","date","dateStr","dayTasks","t","completedTasks","getAverageTasksPerDay","daysWithTasks","d","totalTasks","sum","day","getAverageCompletionRate","totalRate","getSuggestedTargetRange","completedCounts","avgCompleted","a","b","avgCompletionRate","dailyStats","maxTasks","avgTasksPerDay","targetRange","formatDate","jsxs","jsx","Link","index"],"mappings":"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"}