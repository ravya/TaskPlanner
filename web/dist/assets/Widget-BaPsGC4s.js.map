{"version":3,"file":"Widget-BaPsGC4s.js","sources":["../../src/pages/Widget.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { getFirestore, collection, query, where, getDocs, doc, updateDoc, addDoc, Timestamp } from 'firebase/firestore';\nimport { useNavigate } from 'react-router-dom';\n\ninterface Task {\n  id: string;\n  title: string;\n  description: string;\n  startDate: string;\n  startTime?: string;\n  status: string;\n  completed: boolean;\n  priority: 'low' | 'medium' | 'high';\n  tags: string[];\n  isRepeating?: boolean;\n  repeatFrequency?: 'daily' | 'weekly' | 'monthly';\n  repeatEndDate?: string;\n  userId?: string;\n}\n\nexport default function Widget() {\n  const navigate = useNavigate();\n  const [user, setUser] = useState<any>(null);\n  const [todaysTasks, setTodaysTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const auth = getAuth();\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser);\n      if (currentUser) {\n        loadTodaysTasks(currentUser.uid);\n      } else {\n        navigate('/login');\n      }\n    });\n\n    return () => unsubscribe();\n  }, [navigate]);\n\n  // Auto-refresh every 30 seconds\n  useEffect(() => {\n    if (!user) return;\n\n    const interval = setInterval(() => {\n      loadTodaysTasks(user.uid);\n    }, 30000);\n\n    return () => clearInterval(interval);\n  }, [user]);\n\n  const loadTodaysTasks = async (userId: string) => {\n    setLoading(true);\n    try {\n      const db = getFirestore();\n      const tasksRef = collection(db, 'tasks');\n      const q = query(tasksRef, where('userId', '==', userId));\n      const querySnapshot = await getDocs(q);\n\n      const loadedTasks: Task[] = [];\n      querySnapshot.forEach((doc) => {\n        loadedTasks.push({ id: doc.id, ...doc.data() } as Task);\n      });\n\n      // Filter today's tasks - only show tasks with startDate exactly equal to today\n      const today = format(new Date(), 'yyyy-MM-dd');\n      const todayTasks = loadedTasks.filter(task => {\n        if (!task.startDate) return false;\n        // Ensure we're comparing dates correctly (YYYY-MM-DD format)\n        const taskDate = task.startDate.split('T')[0];\n        return taskDate === today;\n      });\n\n      // Sort by status, then by time\n      const sortedTasks = todayTasks.sort((a, b) => {\n        // Completed tasks go to end\n        if (a.completed !== b.completed) {\n          return a.completed ? 1 : -1;\n        }\n\n        // Sort by time\n        const timeA = a.startTime || '23:59';\n        const timeB = b.startTime || '23:59';\n        return timeA.localeCompare(timeB);\n      });\n\n      setTodaysTasks(sortedTasks);\n    } catch (error) {\n      console.error('Error loading tasks:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getNextOccurrenceDate = (currentDate: string, frequency: 'daily' | 'weekly' | 'monthly'): string => {\n    const date = new Date(currentDate);\n    switch (frequency) {\n      case 'daily':\n        date.setDate(date.getDate() + 1);\n        break;\n      case 'weekly':\n        date.setDate(date.getDate() + 7);\n        break;\n      case 'monthly':\n        date.setMonth(date.getMonth() + 1);\n        break;\n    }\n    return date.toISOString().split('T')[0];\n  };\n\n  const shouldCreateNextOccurrence = (task: Task): boolean => {\n    if (!task.isRepeating || !task.repeatFrequency) return false;\n    if (task.repeatEndDate) {\n      const endDate = new Date(task.repeatEndDate);\n      const nextDate = new Date(getNextOccurrenceDate(task.startDate, task.repeatFrequency));\n      return nextDate <= endDate;\n    }\n    return true; // No end date, repeat indefinitely\n  };\n\n  const handleToggleComplete = async (task: Task) => {\n    try {\n      const db = getFirestore();\n      const taskRef = doc(db, 'tasks', task.id);\n\n      const newStatus = task.completed ? 'active' : 'completed';\n      const newCompleted = !task.completed;\n\n      await updateDoc(taskRef, {\n        status: newStatus,\n        completed: newCompleted,\n        completedAt: newCompleted ? new Date() : null,\n        updatedAt: new Date()\n      });\n\n      // If task is being marked as complete and is repeating, create next occurrence\n      if (newCompleted && shouldCreateNextOccurrence(task) && task.userId) {\n        const nextDate = getNextOccurrenceDate(task.startDate, task.repeatFrequency!);\n        const today = format(new Date(), 'yyyy-MM-dd');\n\n        // Only create if next occurrence is in the future or today\n        if (nextDate >= today) {\n          const nextTaskData = {\n            title: task.title,\n            description: task.description,\n            startDate: nextDate,\n            startTime: task.startTime || null,\n            status: 'todo',\n            priority: task.priority,\n            tags: task.tags || [],\n            isRepeating: task.isRepeating,\n            repeatFrequency: task.repeatFrequency,\n            repeatEndDate: task.repeatEndDate || null,\n            userId: task.userId,\n            createdAt: Timestamp.now(),\n            completed: false\n          };\n\n          await addDoc(collection(db, 'tasks'), nextTaskData);\n        }\n      }\n\n      // Reload tasks\n      if (user) {\n        await loadTodaysTasks(user.uid);\n      }\n    } catch (error) {\n      console.error('Error toggling task:', error);\n    }\n  };\n\n  const stats = {\n    total: todaysTasks.length,\n    completed: todaysTasks.filter(t => t.completed).length,\n    pending: todaysTasks.filter(t => !t.completed).length,\n    completionRate: todaysTasks.length > 0\n      ? Math.round((todaysTasks.filter(t => t.completed).length / todaysTasks.length) * 100)\n      : 0\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#F5F5F7] flex flex-col items-center py-12 px-4\">\n      <div className=\"relative w-full max-w-[340px] aspect-square bg-[#FEF3C7] shadow-[0_10px_20px_rgba(0,0,0,0.1)] p-8 transform rotate-1 hover:rotate-0 transition-transform duration-500 ease-out\">\n        {/* Tape effect */}\n        <div className=\"absolute -top-3 left-1/2 -translate-x-1/2 w-24 h-8 bg-white/60 backdrop-blur-sm border border-black/5 rotate-[-2deg] shadow-sm\"></div>\n\n        <div className=\"h-full flex flex-col\">\n          <div className=\"flex justify-between items-start mb-4\">\n            <div>\n              <h1 className=\"text-xl font-bold text-amber-900/80\">Today's Focus</h1>\n              <p className=\"text-[10px] uppercase tracking-wider text-amber-900/40 font-bold\">\n                {new Date().toLocaleDateString('en-US', { weekday: 'long', month: 'short', day: 'numeric' })}\n              </p>\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => {\n                  window.open('/widget', 'TaskPlannerWidget', 'width=340,height=450,menubar=no,toolbar=no,location=no,status=no');\n                }}\n                className=\"p-1 hover:bg-amber-900/5 rounded-full transition-colors\"\n                title=\"Pop out sticky note\"\n              >\n                <svg className=\"w-4 h-4 text-amber-900/40\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                </svg>\n              </button>\n              <button\n                onClick={() => loadTodaysTasks(user?.uid)}\n                className=\"p-1 hover:bg-amber-900/5 rounded-full transition-colors\"\n                title=\"Refresh\"\n              >\n                <svg className=\"w-4 h-4 text-amber-900/40\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto custom-scrollbar\">\n            {loading ? (\n              <div className=\"h-full flex items-center justify-center\">\n                <div className=\"w-5 h-5 border-2 border-amber-900/20 border-t-amber-900/60 rounded-full animate-spin\"></div>\n              </div>\n            ) : todaysTasks.length === 0 ? (\n              <div className=\"h-full flex flex-col items-center justify-center text-center opacity-40\">\n                <p className=\"text-sm font-medium text-amber-900\">All clear!</p>\n                <p className=\"text-[10px] text-amber-900\">Enjoy your day ðŸŒ¿</p>\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                {todaysTasks.map((task) => (\n                  <div key={task.id} className=\"flex items-start gap-3 group\">\n                    <button\n                      onClick={() => handleToggleComplete(task)}\n                      className={`mt-1 flex-shrink-0 w-4 h-4 rounded border transition-all ${task.completed\n                        ? 'bg-amber-900/20 border-transparent text-amber-900/60'\n                        : 'border-amber-900/20 hover:border-amber-900/40'\n                        }`}\n                    >\n                      {task.completed && (\n                        <svg className=\"w-full h-full\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M4 12l2 2 4-4\" />\n                        </svg>\n                      )}\n                    </button>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className={`text-sm font-medium leading-tight ${task.completed ? 'line-through text-amber-900/30' : 'text-amber-900/80'\n                        }`}>\n                        {task.title}\n                      </p>\n                      {task.isRepeating && (\n                        <svg className=\"w-3 h-3 text-amber-900/40 inline ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                        </svg>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          <div className=\"mt-4 pt-4 border-t border-amber-900/10 flex justify-between items-center\">\n            <div className=\"text-[10px] font-bold text-amber-900/40 uppercase tracking-tighter\">\n              {stats.completed}/{stats.total} COMPLETED\n            </div>\n            <div className=\"flex gap-1\">\n              {[...Array(3)].map((_, i) => (\n                <div key={i} className={`w-1.5 h-1.5 rounded-full ${i < Math.floor(stats.completionRate / 33) ? 'bg-amber-900/40' : 'bg-amber-900/10'}`}></div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* PWA Instructions */}\n      <div className=\"mt-16 w-full max-w-[340px] px-8 py-10 bg-white/40 backdrop-blur-md rounded-[2rem] border border-white/50 shadow-sm\">\n        <h2 className=\"text-gray-900 font-bold mb-6 tracking-tight\">Add to Home Screen</h2>\n\n        <div className=\"space-y-8 text-left\">\n          <div>\n            <h3 className=\"text-[11px] font-bold text-blue-600/70 uppercase tracking-widest mb-2.5\">Safari (iOS)</h3>\n            <p className=\"text-xs text-gray-600 leading-relaxed\">\n              Tap the <b>Share</b> button <svg className=\"inline w-4 h-4 mb-1 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19V5m0 0l-4 4m4-4l4 4m-7 6H5a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2h-4\" /></svg> in the bottom bar, scroll down and select <b>\"Add to Home Screen\"</b>.\n            </p>\n          </div>\n\n          <div>\n            <h3 className=\"text-[11px] font-bold text-amber-600/70 uppercase tracking-widest mb-2.5\">Chrome (Android/Desktop)</h3>\n            <div className=\"space-y-3\">\n              <p className=\"text-xs text-gray-600 leading-relaxed\">\n                <b>On Android:</b> Tap <b>More</b> <svg className=\"inline w-4 h-4 mb-1 text-amber-600\" fill=\"currentColor\" viewBox=\"0 0 16 16\"><path d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" /></svg> â†’ <b>\"Add to Home Screen\"</b>. If not visible, look for <b>\"Install app\"</b>.\n              </p>\n              <div className=\"p-3 bg-amber-50/50 rounded-xl border border-amber-100/50\">\n                <p className=\"text-[10px] font-bold text-amber-700 uppercase mb-1\">On Desktop:</p>\n                <p className=\"text-xs text-gray-600 leading-relaxed\">\n                  Tap <b>More</b> â†’ <b>\"Cast, Save, and Share\"</b> â†’ <b>\"Install TaskPlanner\"</b>.\n                  <span className=\"block mt-1 text-[10px] text-amber-600/60 font-medium italic\">Note: This installs TaskPlanner as a standalone browser window.</span>\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"pt-4 border-t border-gray-100\">\n            <h3 className=\"text-[10px] font-bold text-gray-400 uppercase mb-2\">Can't find \"Add to Home Screen\"?</h3>\n            <p className=\"text-[11px] text-gray-500 leading-tight italic\">\n              On Android/Chrome, look for <b>\"Install App\"</b>. On iOS/Safari, ensure you are in <b>Safari browser</b> and not an in-app viewer (like from a link).\n            </p>\n          </div>\n        </div>\n\n        <button\n          onClick={() => navigate('/')}\n          className=\"mt-10 text-[10px] font-bold text-gray-400 hover:text-gray-900 transition-colors tracking-widest uppercase block mx-auto\"\n        >\n          [ Close Widget setup ]\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":["Widget","navigate","useNavigate","user","setUser","useState","todaysTasks","setTodaysTasks","loading","setLoading","useEffect","auth","getAuth","unsubscribe","onAuthStateChanged","currentUser","loadTodaysTasks","interval","userId","db","getFirestore","tasksRef","collection","q","query","where","querySnapshot","getDocs","loadedTasks","doc","today","format","sortedTasks","task","b","timeA","timeB","error","getNextOccurrenceDate","currentDate","frequency","date","shouldCreateNextOccurrence","endDate","handleToggleComplete","taskRef","newStatus","newCompleted","updateDoc","nextDate","nextTaskData","Timestamp","addDoc","stats","jsxs","jsx","_","i"],"mappings":"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"}