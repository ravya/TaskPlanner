{"version":3,"file":"Dashboard-Co93G1_J.js","sources":["../../src/pages/Dashboard.tsx"],"sourcesContent":["import { getAuth, signOut } from 'firebase/auth';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { getFirestore, collection, query, where, getDocs, doc, updateDoc, addDoc, Timestamp } from 'firebase/firestore';\n\ninterface Task {\n  id: string;\n  title: string;\n  description: string;\n  startDate: string;\n  startTime?: string;\n  status: 'todo' | 'in_progress' | 'completed';\n  priority: 'low' | 'medium' | 'high';\n  tags: string[];\n  isRepeating: boolean;\n  repeatFrequency?: 'daily' | 'weekly' | 'monthly';\n  repeatEndDate?: string;\n  userId: string;\n  createdAt: any;\n  completed?: boolean;\n  deletedOccurrences?: string[]; // Array of YYYY-MM-DD dates that were explicitly deleted\n  isDeleted?: boolean; // Soft delete flag for parent recurring tasks\n  mode?: 'personal' | 'professional'; // Task mode\n}\n\nexport default function Dashboard() {\n  const navigate = useNavigate();\n  const [user, setUser] = useState<any>(null);\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [todaysTasks, setTodaysTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showEmailVerification, setShowEmailVerification] = useState(false);\n  const [showAllTodayTasks, setShowAllTodayTasks] = useState(false);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [modeFilter, setModeFilter] = useState<'all' | 'personal' | 'professional'>(() => {\n    return (localStorage.getItem('taskModeFilter') as any) || 'all';\n  });\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    startDate: new Date().toISOString().split('T')[0],\n    startTime: '',\n    priority: 'medium' as 'low' | 'medium' | 'high',\n    tags: '',\n    isRepeating: false,\n    repeatFrequency: 'daily' as 'daily' | 'weekly' | 'monthly',\n    repeatEndDate: '',\n    mode: 'personal' as 'personal' | 'professional'\n  });\n\n  useEffect(() => {\n    const auth = getAuth();\n    const currentUser = auth.currentUser;\n    setUser(currentUser);\n\n    // Check if we should show email verification banner\n    if (currentUser && !currentUser.emailVerified) {\n      const createdAt = currentUser.metadata.creationTime;\n      const accountAge = Date.now() - new Date(createdAt || 0).getTime();\n      const oneWeek = 7 * 24 * 60 * 60 * 1000;\n\n      // Show banner if account is less than 1 week old\n      if (accountAge < oneWeek) {\n        setShowEmailVerification(true);\n      }\n    }\n\n    if (currentUser) {\n      loadTasks(currentUser.uid);\n    }\n  }, []);\n\n  const getNextOccurrenceDate = (currentDate: string, frequency: 'daily' | 'weekly' | 'monthly'): string => {\n    const date = new Date(currentDate);\n    switch (frequency) {\n      case 'daily':\n        date.setDate(date.getDate() + 1);\n        break;\n      case 'weekly':\n        date.setDate(date.getDate() + 7);\n        break;\n      case 'monthly':\n        date.setMonth(date.getMonth() + 1);\n        break;\n    }\n    return date.toISOString().split('T')[0];\n  };\n\n  const shouldCreateNextOccurrence = (task: Task): boolean => {\n    if (!task.isRepeating || !task.repeatFrequency) return false;\n    if (task.repeatEndDate) {\n      const endDate = new Date(task.repeatEndDate);\n      const nextDate = new Date(getNextOccurrenceDate(task.startDate, task.repeatFrequency));\n      return nextDate <= endDate;\n    }\n    return true; // No end date, repeat indefinitely\n  };\n\n  const generateMissingRepeatingOccurrences = async (tasks: Task[], userId: string) => {\n    const db = getFirestore();\n    const now = new Date();\n    const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n    const createdTasks: string[] = [];\n\n    for (const task of tasks) {\n      // Only process the original repeating task (not occurrences)\n      // Original tasks are those that match the original startDate\n      if (!task.isRepeating || !task.repeatFrequency || !task.startDate) continue;\n\n      // Skip if this is already an occurrence (check if there's a task with earlier date and same title)\n      const isOriginalTask = !tasks.some(t =>\n        t.id !== task.id &&\n        t.isRepeating === task.isRepeating &&\n        t.repeatFrequency === task.repeatFrequency &&\n        t.title === task.title &&\n        t.userId === task.userId &&\n        t.startDate < task.startDate\n      );\n\n      if (!isOriginalTask) continue; // Skip occurrences, only process originals\n\n      // Check if we should create occurrences for this repeating task\n      if (!shouldCreateNextOccurrence(task)) continue;\n\n      const originalDate = new Date(task.startDate);\n      const todayDate = new Date(today);\n\n      // Only generate occurrence for TODAY if it doesn't exist\n      // Don't carry forward missed occurrences from past dates\n      const occurrenceDate = today;\n\n      // Skip if today is before the original start date\n      if (todayDate < originalDate) continue;\n\n      // Check if occurrence already exists in current tasks list\n      const existingTask = tasks.find(t =>\n        t.title === task.title &&\n        t.startDate === occurrenceDate &&\n        t.userId === task.userId &&\n        t.isRepeating === task.isRepeating &&\n        t.repeatFrequency === task.repeatFrequency\n      );\n\n      // Also check database directly to avoid duplicates\n      if (!existingTask) {\n        const checkQuery = query(\n          collection(db, 'tasks'),\n          where('userId', '==', userId),\n          where('title', '==', task.title),\n          where('startDate', '==', occurrenceDate),\n          where('isRepeating', '==', true),\n          where('repeatFrequency', '==', task.repeatFrequency)\n        );\n        const checkSnapshot = await getDocs(checkQuery);\n\n        if (checkSnapshot.empty) {\n          // Check if this occurrence was explicitly deleted\n          const deletedOccurrences = task.deletedOccurrences || [];\n          if (deletedOccurrences.includes(occurrenceDate)) {\n            // Skip this occurrence - it was explicitly deleted by user\n            continue;\n          }\n\n          // Check if we're within the repeat end date\n          if (task.repeatEndDate) {\n            const endDate = new Date(task.repeatEndDate);\n            if (todayDate > endDate) continue;\n          }\n\n          // Create today's occurrence\n          const nextTaskData = {\n            title: task.title,\n            description: task.description,\n            startDate: occurrenceDate,\n            startTime: task.startTime || null,\n            status: 'todo',\n            priority: task.priority,\n            tags: task.tags || [],\n            isRepeating: task.isRepeating,\n            repeatFrequency: task.repeatFrequency,\n            repeatEndDate: task.repeatEndDate || null,\n            userId: task.userId,\n            createdAt: Timestamp.now(),\n            completed: false\n          };\n\n          try {\n            await addDoc(collection(db, 'tasks'), nextTaskData);\n            createdTasks.push(occurrenceDate);\n          } catch (error) {\n            console.error(`Error creating occurrence for ${occurrenceDate}:`, error);\n          }\n        }\n      }\n    }\n\n    return createdTasks.length > 0;\n  };\n\n  const loadTasks = async (userId: string) => {\n    setLoading(true);\n    try {\n      const db = getFirestore();\n      const tasksRef = collection(db, 'tasks');\n      const q = query(tasksRef, where('userId', '==', userId));\n      const querySnapshot = await getDocs(q);\n\n      const allTasks: Task[] = [];\n      querySnapshot.forEach((doc) => {\n        allTasks.push({ id: doc.id, ...doc.data() } as Task);\n      });\n\n      // Generate missing repeating task occurrences (using all tasks including soft-deleted)\n      const hasNewOccurrences = await generateMissingRepeatingOccurrences(allTasks, userId);\n\n      // Reload tasks if new occurrences were created\n      if (hasNewOccurrences) {\n        const updatedSnapshot = await getDocs(q);\n        allTasks.length = 0; // Clear array\n        updatedSnapshot.forEach((doc) => {\n          allTasks.push({ id: doc.id, ...doc.data() } as Task);\n        });\n      }\n\n      // Filter out soft-deleted tasks for display\n      const now = new Date();\n      const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n\n      const visibleTasks = allTasks.filter(t => {\n        // Filter out soft-deleted tasks\n        if (t.isDeleted) return false;\n\n        // For recurring tasks, hide past occurrences (both completed and incomplete)\n        // This prevents showing the original parent task when we have today's occurrence\n        if (t.isRepeating) {\n          const taskDate = t.startDate?.split('T')[0];\n          if (taskDate && taskDate < today) {\n            // Only show past recurring tasks if they're completed\n            // This allows viewing completed history but hides incomplete past tasks\n            if (t.status !== 'completed' && !t.completed) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n      });\n\n      setTasks(visibleTasks);\n\n      // Filter today's tasks - include repeating tasks even if previous day wasn't completed\n      const todayTasks = visibleTasks.filter(task => {\n        if (!task.startDate) return false;\n        // Ensure we're comparing dates correctly (YYYY-MM-DD format)\n        const taskDate = task.startDate.split('T')[0]; // Handle any time component\n        return taskDate === today;\n      });\n      setTodaysTasks(todayTasks);\n    } catch (error) {\n      console.error('Error loading tasks:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      const auth = getAuth();\n      await signOut(auth);\n      navigate('/login');\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n  const handleMoveToToday = async (taskId: string) => {\n    try {\n      const db = getFirestore();\n      const taskRef = doc(db, 'tasks', taskId);\n      const now = new Date();\n      const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n\n      await updateDoc(taskRef, {\n        startDate: today,\n        updatedAt: new Date()\n      });\n\n      // Reload tasks\n      if (user) {\n        await loadTasks(user.uid);\n      }\n    } catch (error) {\n      console.error('Error moving task to today:', error);\n      alert('Failed to move task to today');\n    }\n  };\n\n  const handleIgnoreTask = async (taskId: string) => {\n    try {\n      const db = getFirestore();\n      const taskRef = doc(db, 'tasks', taskId);\n\n      await updateDoc(taskRef, {\n        ignored: true,\n        updatedAt: new Date()\n      });\n\n      // Reload tasks\n      if (user) {\n        await loadTasks(user.uid);\n      }\n    } catch (error) {\n      console.error('Error ignoring task:', error);\n      alert('Failed to ignore task');\n    }\n  };\n\n  const handleCreateMissingOccurrence = async (task: Task) => {\n    try {\n      const db = getFirestore();\n      const now = new Date();\n      const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n\n      const taskData = {\n        title: task.title,\n        description: task.description,\n        startDate: today,\n        startTime: task.startTime || null,\n        status: 'todo',\n        priority: task.priority,\n        tags: task.tags || [],\n        isRepeating: task.isRepeating,\n        repeatFrequency: task.repeatFrequency,\n        repeatEndDate: task.repeatEndDate || null,\n        userId: task.userId,\n        createdAt: Timestamp.now(),\n        completed: false\n      };\n\n      await addDoc(collection(db, 'tasks'), taskData);\n\n      // Reload tasks\n      if (user) {\n        await loadTasks(user.uid);\n      }\n    } catch (error) {\n      console.error('Error creating missing occurrence:', error);\n      alert('Failed to create task');\n    }\n  };\n\n  const handleAddTask = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!user) {\n      alert('You must be logged in to create a task');\n      return;\n    }\n\n    if (!formData.title.trim()) {\n      alert('Please enter a task title');\n      return;\n    }\n\n    try {\n      const db = getFirestore();\n\n      // Parse tags from comma-separated string\n      const tagArray = formData.tags\n        .split(',')\n        .map(tag => tag.trim())\n        .filter(tag => tag.length > 0);\n\n      // Use today's date if startDate is not set\n      const now = new Date();\n      const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n      const taskStartDate = formData.startDate || today;\n\n      const taskData = {\n        title: formData.title,\n        description: formData.description,\n        startDate: taskStartDate,\n        startTime: formData.startTime || null,\n        priority: formData.priority,\n        tags: tagArray,\n        isRepeating: formData.isRepeating,\n        repeatFrequency: formData.isRepeating ? formData.repeatFrequency : null,\n        repeatEndDate: formData.isRepeating ? formData.repeatEndDate : null,\n        status: 'todo',\n        userId: user.uid,\n        createdAt: Timestamp.now(),\n        mode: formData.mode || 'personal'\n      };\n\n      await addDoc(collection(db, 'tasks'), taskData);\n\n      // Reset form\n      setFormData({\n        title: '',\n        description: '',\n        startDate: new Date().toISOString().split('T')[0],\n        startTime: '',\n        priority: 'medium',\n        tags: '',\n        isRepeating: false,\n        repeatFrequency: 'daily',\n        repeatEndDate: '',\n        mode: 'personal'\n      });\n      setShowAddForm(false);\n\n      // Reload tasks\n      await loadTasks(user.uid);\n    } catch (error: any) {\n      console.error('Error saving task:', error);\n      alert(`Failed to save task: ${error.message}`);\n    }\n  };\n\n  const handleToggleComplete = async (task: Task) => {\n    try {\n      const db = getFirestore();\n      const taskRef = doc(db, 'tasks', task.id);\n      const newStatus = task.status === 'completed' ? 'todo' : 'completed';\n\n      await updateDoc(taskRef, {\n        status: newStatus,\n        completed: newStatus === 'completed',\n        completedAt: newStatus === 'completed' ? new Date() : null,\n        updatedAt: new Date()\n      });\n\n      // If task is being marked as complete and is repeating, create next occurrence\n      if (newStatus === 'completed' && shouldCreateNextOccurrence(task)) {\n        const nextDate = getNextOccurrenceDate(task.startDate, task.repeatFrequency!);\n        const now = new Date();\n        const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n\n        // Only create if next occurrence is in the future or today\n        if (nextDate >= today) {\n          const nextTaskData = {\n            title: task.title,\n            description: task.description,\n            startDate: nextDate,\n            startTime: task.startTime || null,\n            status: 'todo',\n            priority: task.priority,\n            tags: task.tags || [],\n            isRepeating: task.isRepeating,\n            repeatFrequency: task.repeatFrequency,\n            repeatEndDate: task.repeatEndDate || null,\n            userId: task.userId,\n            createdAt: Timestamp.now(),\n            completed: false\n          };\n\n          await addDoc(collection(db, 'tasks'), nextTaskData);\n        }\n      }\n\n      // Reload tasks\n      if (user) {\n        await loadTasks(user.uid);\n      }\n    } catch (error) {\n      console.error('Error toggling task:', error);\n      alert('Failed to update task');\n    }\n  };\n\n  const totalTasks = tasks.length;\n  const completedTasks = tasks.filter(t => t.status === 'completed' || t.completed).length;\n  const pendingTasks = tasks.filter(t => t.status !== 'completed' && !t.completed && t.status !== 'in_progress').length;\n  const inProgressTasks = tasks.filter(t => t.status === 'in_progress').length;\n  const completionRate = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;\n\n  // Get pending tasks from past days (not today, not completed, not ignored)\n  // This includes both regular tasks and missing repeating task occurrences\n  const now = new Date();\n  const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n  const pastPendingTasks: Task[] = [];\n\n  // First, add regular tasks from past days\n  tasks.forEach(t => {\n    if (t.status === 'completed' || t.completed) return;\n    if ((t as any).ignored) return;\n    if (!t.startDate) return;\n\n    // Exclude repetitive tasks from past pending list as requested\n    if (t.isRepeating) return;\n\n    const taskDate = t.startDate.split('T')[0];\n    if (taskDate < today) {\n      pastPendingTasks.push(t);\n    }\n  });\n\n  // Note: Logic for finding missing repeating task occurrences has been removed\n  // as per requirement to not show past pending repetitive tasks.\n\n\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'high': return 'bg-red-100 text-red-800';\n      case 'medium': return 'bg-yellow-100 text-yellow-800';\n      case 'low': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-6\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Home</h1>\n              <p className=\"text-sm text-gray-500 mt-1\">\n                Welcome back, {user?.displayName?.split(' ')[0] || 'User'}!\n              </p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <button\n                onClick={handleLogout}\n                className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700\"\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Floating Add Task Button */}\n        {!showAddForm && (\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"fixed bottom-8 right-8 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 hover:shadow-xl transition-all duration-200 flex items-center justify-center z-50\"\n            title=\"Add New Task\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n            </svg>\n          </button>\n        )}\n\n        {/* Task Creation Form Modal/Overlay */}\n        {showAddForm && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\" onClick={() => setShowAddForm(false)}>\n            <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center\">\n                <h3 className=\"text-xl font-semibold text-gray-900\">Create New Task</h3>\n                <button\n                  onClick={() => {\n                    setShowAddForm(false);\n                    setFormData({\n                      title: '',\n                      description: '',\n                      startDate: new Date().toISOString().split('T')[0],\n                      startTime: '',\n                      priority: 'medium',\n                      tags: '',\n                      isRepeating: false,\n                      repeatFrequency: 'daily',\n                      repeatEndDate: '',\n                      mode: 'personal'\n                    });\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n              <div className=\"p-6\">\n                <form onSubmit={handleAddTask} className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Title *</label>\n                    <input\n                      type=\"text\"\n                      value={formData.title}\n                      onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                      required\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      placeholder=\"Enter task title\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                    <textarea\n                      value={formData.description}\n                      onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                      rows={3}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      placeholder=\"Enter task description\"\n                    />\n                  </div>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date</label>\n                      <input\n                        type=\"date\"\n                        value={formData.startDate}\n                        onChange={(e) => setFormData({ ...formData, startDate: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Time (Optional)</label>\n                      <input\n                        type=\"time\"\n                        value={formData.startTime}\n                        onChange={(e) => setFormData({ ...formData, startTime: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Priority</label>\n                      <select\n                        value={formData.priority}\n                        onChange={(e) => setFormData({ ...formData, priority: e.target.value as 'low' | 'medium' | 'high' })}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"low\">Low</option>\n                        <option value=\"medium\">Medium</option>\n                        <option value=\"high\">High</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Tags (comma-separated)</label>\n                      <input\n                        type=\"text\"\n                        value={formData.tags}\n                        onChange={(e) => setFormData({ ...formData, tags: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        placeholder=\"work, urgent, personal\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Mode</label>\n                      <select\n                        value={formData.mode}\n                        onChange={(e) => setFormData({ ...formData, mode: e.target.value as 'personal' | 'professional' })}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"personal\">üè† Personal</option>\n                        <option value=\"professional\">üíº Professional</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"flex items-center gap-2\">\n                      <input\n                        type=\"checkbox\"\n                        checked={formData.isRepeating}\n                        onChange={(e) => setFormData({ ...formData, isRepeating: e.target.checked })}\n                        className=\"rounded\"\n                      />\n                      <span className=\"text-sm font-medium text-gray-700\">Repeat this task</span>\n                    </label>\n                  </div>\n                  {formData.isRepeating && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 pl-6 border-l-2 border-blue-200\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Repeat Frequency</label>\n                        <select\n                          value={formData.repeatFrequency}\n                          onChange={(e) => setFormData({ ...formData, repeatFrequency: e.target.value as 'daily' | 'weekly' | 'monthly' })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        >\n                          <option value=\"daily\">Daily</option>\n                          <option value=\"weekly\">Weekly</option>\n                          <option value=\"monthly\">Monthly</option>\n                        </select>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Repeat Until (Optional)</label>\n                        <input\n                          type=\"date\"\n                          value={formData.repeatEndDate}\n                          onChange={(e) => setFormData({ ...formData, repeatEndDate: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        />\n                      </div>\n                    </div>\n                  )}\n                  <div className=\"flex gap-2 pt-4\">\n                    <button\n                      type=\"submit\"\n                      className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium\"\n                    >\n                      Create Task\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setShowAddForm(false);\n                        setFormData({\n                          title: '',\n                          description: '',\n                          startDate: new Date().toISOString().split('T')[0],\n                          startTime: '',\n                          priority: 'medium',\n                          tags: '',\n                          isRepeating: false,\n                          repeatFrequency: 'daily',\n                          repeatEndDate: '',\n                          mode: 'personal'\n                        });\n                      }}\n                      className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 font-medium\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Email Verification Banner - Only show if not verified and account < 1 week */}\n        {showEmailVerification && (\n          <div className=\"mb-6 bg-amber-50 border border-amber-200 rounded-lg p-4\">\n            <div className=\"flex items-start\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-amber-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3 flex-1\">\n                <h3 className=\"text-sm font-medium text-amber-800\">Email Verification Pending</h3>\n                <p className=\"mt-1 text-sm text-amber-700\">\n                  Please verify your email address to access all features.\n                </p>\n              </div>\n              <button\n                onClick={() => setShowEmailVerification(false)}\n                className=\"ml-auto flex-shrink-0 text-amber-400 hover:text-amber-600\"\n              >\n                ‚úï\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Task Statistics - 3 Main Tiles */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          {/* Today's Tasks */}\n          <Link\n            to=\"/tasks?filter=today\"\n            className=\"bg-white rounded-lg shadow-lg p-6 block hover:shadow-xl transition-shadow cursor-pointer\"\n          >\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Today's Tasks</h3>\n              <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                </svg>\n              </div>\n            </div>\n            <div className=\"text-4xl font-bold text-purple-600 mb-2\">{todaysTasks.length}</div>\n            <div className=\"flex justify-between items-center\">\n              <p className=\"text-sm text-gray-500\">\n                {todaysTasks.filter(t => t.status === 'completed').length} completed\n              </p>\n              <span className=\"text-xs text-purple-600 font-medium\">\n                View All ‚Üí\n              </span>\n            </div>\n          </Link>\n\n          {/* All Tasks */}\n          <div className=\"bg-white rounded-lg shadow-lg p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">All Tasks</h3>\n              <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                </svg>\n              </div>\n            </div>\n            <div className=\"text-4xl font-bold text-blue-600 mb-4\">{totalTasks}</div>\n            <div className=\"space-y-2 text-sm mb-4\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Pending:</span>\n                <span className=\"font-medium text-gray-900\">{pendingTasks}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">In Progress:</span>\n                <span className=\"font-medium text-gray-900\">{inProgressTasks}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Completed:</span>\n                <span className=\"font-medium text-gray-900\">{completedTasks}</span>\n              </div>\n            </div>\n            <Link\n              to=\"/tasks\"\n              className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n            >\n              View all ‚Üí\n            </Link>\n          </div>\n\n          {/* Task Progress */}\n          <Link\n            to=\"/analytics\"\n            className=\"bg-white rounded-lg shadow-lg p-6 block hover:shadow-xl transition-shadow cursor-pointer\"\n          >\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Task Progress</h3>\n              <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                </svg>\n              </div>\n            </div>\n            <div className=\"flex items-end gap-2 mb-2\">\n              <div className=\"text-4xl font-bold text-green-600\">{completionRate}%</div>\n              <div className=\"text-sm text-gray-500 pb-1\">complete</div>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2 mb-3\">\n              <div\n                className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${completionRate}%` }}\n              ></div>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <p className=\"text-sm text-gray-500\">\n                {completedTasks} of {totalTasks} tasks\n              </p>\n              <span className=\"text-xs text-green-600 font-medium\">\n                View Analytics ‚Üí\n              </span>\n            </div>\n          </Link>\n        </div>\n\n        {/* Pending Tasks from Past Days */}\n        {pastPendingTasks.length > 0 && (\n          <div className=\"bg-orange-50 border border-orange-200 rounded-lg shadow mb-8\">\n            <div className=\"p-6 border-b border-orange-200 flex justify-between items-center\">\n              <div>\n                <h2 className=\"text-xl font-semibold text-orange-900 flex items-center gap-2\">\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  Pending Tasks from Past Days\n                </h2>\n                <p className=\"text-sm text-orange-700 mt-1\">\n                  {pastPendingTasks.length} task{pastPendingTasks.length !== 1 ? 's' : ''} waiting to be completed\n                </p>\n              </div>\n            </div>\n\n            <div className=\"divide-y divide-orange-200\">\n              {pastPendingTasks.map((task) => (\n                <div key={task.id} className=\"p-4 hover:bg-orange-100 flex items-center gap-3\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <h3 className=\"text-base font-medium text-gray-900\">\n                        {task.title}\n                      </h3>\n                      <span className={`px-2 py-0.5 text-xs font-medium rounded ${getPriorityColor(task.priority)}`}>\n                        {task.priority}\n                      </span>\n                    </div>\n                    {task.description && (\n                      <p className=\"text-sm text-gray-600 mb-1\">\n                        {task.description}\n                      </p>\n                    )}\n                    <p className=\"text-xs text-orange-600\">\n                      {task.id.startsWith('missing-') ? (\n                        <>Missing occurrence from: {new Date(task.startDate).toLocaleDateString()} (Repeating task)</>\n                      ) : (\n                        <>Originally scheduled: {new Date(task.startDate).toLocaleDateString()}</>\n                      )}\n                    </p>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => {\n                        if (task.id.startsWith('missing-')) {\n                          // Create the missing occurrence\n                          handleCreateMissingOccurrence(task);\n                        } else {\n                          handleMoveToToday(task.id);\n                        }\n                      }}\n                      className=\"px-3 py-2 bg-orange-600 text-white text-sm rounded-md hover:bg-orange-700 font-medium whitespace-nowrap\"\n                    >\n                      {task.id.startsWith('missing-') ? 'Create & Move to Today' : 'Move to Today'}\n                    </button>\n                    {!task.id.startsWith('missing-') && (\n                      <button\n                        onClick={() => handleIgnoreTask(task.id)}\n                        className=\"px-3 py-2 bg-gray-400 text-white text-sm rounded-md hover:bg-gray-500 font-medium whitespace-nowrap\"\n                        title=\"Ignore this task\"\n                      >\n                        Ignore\n                      </button>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Today's Tasks List */}\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-xl font-semibold\">Today's Tasks</h2>\n              <Link\n                to=\"/tasks?filter=today\"\n                className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n              >\n                View all tasks ‚Üí\n              </Link>\n            </div>\n\n            {/* Mode Filter Tabs */}\n            <div className=\"flex border-b border-gray-200\">\n              <button\n                onClick={() => {\n                  setModeFilter('all');\n                  localStorage.setItem('taskModeFilter', 'all');\n                }}\n                className={`px-4 py-2 font-medium text-sm ${modeFilter === 'all'\n                  ? 'border-b-2 border-green-600 text-green-600'\n                  : 'text-gray-600 hover:text-gray-900'\n                  }`}\n              >\n                All Modes\n              </button>\n              <button\n                onClick={() => {\n                  setModeFilter('personal');\n                  localStorage.setItem('taskModeFilter', 'personal');\n                }}\n                className={`px-4 py-2 font-medium text-sm ${modeFilter === 'personal'\n                  ? 'border-b-2 border-green-600 text-green-600'\n                  : 'text-gray-600 hover:text-gray-900'\n                  }`}\n              >\n                üè† Personal\n              </button>\n              <button\n                onClick={() => {\n                  setModeFilter('professional');\n                  localStorage.setItem('taskModeFilter', 'professional');\n                }}\n                className={`px-4 py-2 font-medium text-sm ${modeFilter === 'professional'\n                  ? 'border-b-2 border-green-600 text-green-600'\n                  : 'text-gray-600 hover:text-gray-900'\n                  }`}\n              >\n                üíº Professional\n              </button>\n            </div>\n          </div>\n\n          {loading ? (\n            <div className=\"p-8 text-center text-gray-500\">Loading tasks...</div>\n          ) : todaysTasks.length === 0 ? (\n            <div className=\"p-8 text-center\">\n              <svg className=\"mx-auto h-12 w-12 text-gray-400 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n              </svg>\n              <p className=\"text-gray-500 mb-3\">No tasks scheduled for today</p>\n              <Link\n                to=\"/tasks\"\n                className=\"inline-block px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium text-sm\"\n              >\n                Add a task\n              </Link>\n            </div>\n          ) : (\n            <div className=\"divide-y divide-gray-200\">\n              {(() => {\n                // Filter tasks by mode\n                const filteredTasks = modeFilter === 'all'\n                  ? todaysTasks\n                  : todaysTasks.filter(task => (task.mode || 'personal') === modeFilter);\n\n                const tasksToShow = showAllTodayTasks ? filteredTasks : filteredTasks.slice(0, 5);\n\n                return tasksToShow.map((task) => (\n                  <div key={task.id} className=\"p-4 hover:bg-gray-50 flex items-center gap-3\">\n                    <input\n                      type=\"checkbox\"\n                      checked={task.status === 'completed' || task.completed === true}\n                      onChange={() => handleToggleComplete(task)}\n                      className=\"h-5 w-5 text-blue-600 rounded cursor-pointer\"\n                    />\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2\">\n                        <h3 className={`text-base font-medium ${(task.status === 'completed' || task.completed === true) ? 'line-through text-gray-400' : 'text-gray-900'}`}>\n                          {task.title}\n                        </h3>\n                        <span className={`px-2 py-0.5 text-xs font-medium rounded ${getPriorityColor(task.priority)}`}>\n                          {task.priority}\n                        </span>\n                        {modeFilter === 'all' && (\n                          <span className={`px-2 py-0.5 text-xs font-medium rounded whitespace-nowrap ${(task.mode || 'personal') === 'personal'\n                            ? 'bg-blue-100 text-blue-800'\n                            : 'bg-orange-100 text-orange-800'\n                            }`}>\n                            {(task.mode || 'personal') === 'personal' ? 'üè† Personal' : 'üíº Professional'}\n                          </span>\n                        )}\n                      </div>\n                      {task.description && (\n                        <p className={`text-sm mt-1 ${(task.status === 'completed' || task.completed === true) ? 'text-gray-400' : 'text-gray-600'}`}>\n                          {task.description}\n                        </p>\n                      )}\n                    </div>\n                    <span className=\"text-xs text-gray-500\">\n                      {task.startTime || 'All day'}\n                    </span>\n                  </div>\n                ));\n              })()}\n              {todaysTasks.length > 5 && (\n                <div className=\"p-4 text-center\">\n                  {!showAllTodayTasks ? (\n                    <button\n                      onClick={() => setShowAllTodayTasks(true)}\n                      className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n                    >\n                      View {todaysTasks.length - 5} more tasks ‚Üí\n                    </button>\n                  ) : (\n                    <button\n                      onClick={() => setShowAllTodayTasks(false)}\n                      className=\"text-sm text-gray-600 hover:text-gray-700 font-medium\"\n                    >\n                      Show less ‚Üë\n                    </button>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["Dashboard","navigate","useNavigate","user","setUser","useState","tasks","setTasks","todaysTasks","setTodaysTasks","loading","setLoading","showEmailVerification","setShowEmailVerification","showAllTodayTasks","setShowAllTodayTasks","showAddForm","setShowAddForm","modeFilter","setModeFilter","formData","setFormData","useEffect","currentUser","getAuth","createdAt","accountAge","oneWeek","loadTasks","getNextOccurrenceDate","currentDate","frequency","date","shouldCreateNextOccurrence","task","endDate","generateMissingRepeatingOccurrences","userId","db","getFirestore","now","today","createdTasks","t","originalDate","todayDate","occurrenceDate","checkQuery","query","collection","where","getDocs","nextTaskData","Timestamp","addDoc","error","tasksRef","q","querySnapshot","allTasks","doc","updatedSnapshot","visibleTasks","taskDate","todayTasks","handleLogout","auth","signOut","handleMoveToToday","taskId","taskRef","updateDoc","handleIgnoreTask","handleCreateMissingOccurrence","taskData","handleAddTask","e","tagArray","tag","taskStartDate","handleToggleComplete","newStatus","nextDate","totalTasks","completedTasks","pendingTasks","inProgressTasks","completionRate","pastPendingTasks","getPriorityColor","priority","jsxs","jsx","Link","Fragment","filteredTasks"],"mappings":"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"}