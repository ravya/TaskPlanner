{"version":3,"file":"Register-4PS7YH2E.js","sources":["../../src/pages/Register.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getAuth, createUserWithEmailAndPassword, updateProfile, GoogleAuthProvider, signInWithPopup } from 'firebase/auth';\n\nexport default function Register() {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    setError(''); // Clear error when user types\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    // Validation\n    if (!formData.name.trim()) {\n      setError('Please enter your name');\n      setLoading(false);\n      return;\n    }\n\n    if (formData.password.length < 8) {\n      setError('Password must be at least 8 characters');\n      setLoading(false);\n      return;\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Passwords do not match');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const auth = getAuth();\n\n      // Create user account\n      const userCredential = await createUserWithEmailAndPassword(\n        auth,\n        formData.email,\n        formData.password\n      );\n\n      // Update display name\n      if (userCredential.user) {\n        await updateProfile(userCredential.user, {\n          displayName: formData.name\n        });\n      }\n\n      // Success! Redirect to dashboard\n      navigate('/');\n    } catch (err: any) {\n      console.error('Registration error:', err);\n\n      // User-friendly error messages\n      switch (err.code) {\n        case 'auth/email-already-in-use':\n          setError('This email is already registered. Please login instead.');\n          break;\n        case 'auth/invalid-email':\n          setError('Invalid email address');\n          break;\n        case 'auth/weak-password':\n          setError('Password is too weak. Please use a stronger password.');\n          break;\n        default:\n          setError(err.message || 'Registration failed. Please try again.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    setError('');\n    setLoading(true);\n    try {\n      const auth = getAuth();\n      const provider = new GoogleAuthProvider();\n      await signInWithPopup(auth, provider);\n      navigate('/');\n    } catch (err: any) {\n      console.error('Google login error:', err);\n      setError(err.message || 'Google login failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">Task Planner</h1>\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Create your account</h2>\n        </div>\n\n        <div className=\"bg-white py-8 px-6 shadow rounded-lg\">\n          {error && (\n            <div className=\"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n              <span className=\"block sm:inline\">{error}</span>\n            </div>\n          )}\n\n          <div className=\"space-y-6\">\n            <button\n              onClick={handleGoogleLogin}\n              disabled={loading}\n              className=\"w-full flex items-center justify-center gap-3 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                <path\n                  fill=\"#4285F4\"\n                  d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                />\n                <path\n                  fill=\"#34A853\"\n                  d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                />\n                <path\n                  fill=\"#FBBC05\"\n                  d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z\"\n                />\n                <path\n                  fill=\"#EA4335\"\n                  d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                />\n              </svg>\n              Continue with Google\n            </button>\n\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <div className=\"w-full border-t border-gray-300\"></div>\n              </div>\n              <div className=\"relative flex justify-center text-sm\">\n                <span className=\"px-2 bg-white text-gray-500\">or sign up with email</span>\n              </div>\n            </div>\n\n            <form className=\"space-y-6\" onSubmit={handleSubmit}>\n              <div>\n                <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Full Name\n                </label>\n                <input\n                  id=\"name\"\n                  name=\"name\"\n                  type=\"text\"\n                  required\n                  value={formData.name}\n                  onChange={handleChange}\n                  disabled={loading}\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                  placeholder=\"John Doe\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Email address\n                </label>\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={handleChange}\n                  disabled={loading}\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                  placeholder=\"you@example.com\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Password\n                </label>\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type=\"password\"\n                  required\n                  value={formData.password}\n                  onChange={handleChange}\n                  disabled={loading}\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                  placeholder=\"••••••••\"\n                />\n                <p className=\"mt-1 text-xs text-gray-500\">At least 8 characters</p>\n              </div>\n\n              <div>\n                <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Confirm Password\n                </label>\n                <input\n                  id=\"confirmPassword\"\n                  name=\"confirmPassword\"\n                  type=\"password\"\n                  required\n                  value={formData.confirmPassword}\n                  onChange={handleChange}\n                  disabled={loading}\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                  placeholder=\"••••••••\"\n                />\n              </div>\n\n              <div>\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300 disabled:cursor-not-allowed\"\n                >\n                  {loading ? 'Creating account...' : 'Create account'}\n                </button>\n              </div>\n            </form>\n          </div>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-gray-600\">\n              Already have an account?{' '}\n              <a href=\"/login\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n                Sign in here\n              </a>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["Register","navigate","useNavigate","formData","setFormData","useState","error","setError","loading","setLoading","handleChange","e","handleSubmit","auth","getAuth","userCredential","createUserWithEmailAndPassword","updateProfile","err","handleGoogleLogin","provider","GoogleAuthProvider","signInWithPopup","jsxs","jsx"],"mappings":"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"}