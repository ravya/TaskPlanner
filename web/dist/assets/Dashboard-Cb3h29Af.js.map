{"version":3,"file":"Dashboard-Cb3h29Af.js","sources":["../../src/pages/Dashboard.tsx"],"sourcesContent":["import { getAuth } from 'firebase/auth';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { getFirestore, collection, query, where, getDocs, doc, updateDoc, addDoc, Timestamp } from 'firebase/firestore';\nimport AddTaskInline from '../components/AddTaskInline';\nimport { projectService } from '../services/firebase/project.service';\nimport type { Project, ProjectMode } from '../types/project';\n\ninterface Task {\n  id: string;\n  title: string;\n  description: string;\n  startDate: string;\n  startTime?: string;\n  status: 'todo' | 'in_progress' | 'completed';\n  priority: 'low' | 'medium' | 'high';\n  tags: string[];\n  isRepeating: boolean;\n  repeatFrequency?: 'daily' | 'weekly' | 'monthly';\n  repeatEndDate?: string;\n  userId: string;\n  createdAt: any;\n  completed?: boolean;\n  deletedOccurrences?: string[]; // Array of YYYY-MM-DD dates that were explicitly deleted\n  isDeleted?: boolean; // Soft delete flag for parent recurring tasks\n  mode?: 'personal' | 'professional'; // Task mode\n}\n\nexport default function Dashboard() {\n  const [user, setUser] = useState<any>(null);\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [todaysTasks, setTodaysTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showEmailVerification, setShowEmailVerification] = useState(false);\n  const [showAllTodayTasks, setShowAllTodayTasks] = useState(false);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [modeFilter, setModeFilter] = useState<'all' | 'personal' | 'professional'>(() => {\n    return (localStorage.getItem('taskModeFilter') as any) || 'all';\n  });\n\n  // Project state\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [selectedProjectId, setSelectedProjectId] = useState<string | undefined>(undefined);\n  const [showProjectsPanel, setShowProjectsPanel] = useState(false);\n\n  useEffect(() => {\n    const auth = getAuth();\n    const currentUser = auth.currentUser;\n    setUser(currentUser);\n\n    // Check if we should show email verification banner\n    if (currentUser && !currentUser.emailVerified) {\n      const createdAt = currentUser.metadata.creationTime;\n      const accountAge = Date.now() - new Date(createdAt || 0).getTime();\n      const oneWeek = 7 * 24 * 60 * 60 * 1000;\n\n      // Show banner if account is less than 1 week old\n      if (accountAge < oneWeek) {\n        setShowEmailVerification(true);\n      }\n    }\n\n    if (currentUser) {\n      loadTasks(currentUser.uid);\n    }\n  }, []);\n\n  // Subscribe to projects when user and modeFilter change\n  useEffect(() => {\n    if (!user?.uid) return;\n    if (modeFilter === 'all') {\n      // When 'all' mode, don't filter by project\n      setSelectedProjectId(undefined);\n      setProjects([]);\n      return;\n    }\n\n    const unsubscribe = projectService.subscribeToProjects(\n      user.uid,\n      (projectList) => {\n        setProjects(projectList);\n        // Ensure default project exists\n        if (projectList.length === 0) {\n          projectService.getOrCreateDefaultProject(user.uid, modeFilter as ProjectMode);\n        }\n      },\n      { filters: { mode: modeFilter as ProjectMode, isArchived: false } }\n    );\n\n    return () => unsubscribe();\n  }, [user?.uid, modeFilter]);\n\n  const getNextOccurrenceDate = (currentDate: string, frequency: 'daily' | 'weekly' | 'monthly'): string => {\n    const date = new Date(currentDate);\n    switch (frequency) {\n      case 'daily':\n        date.setDate(date.getDate() + 1);\n        break;\n      case 'weekly':\n        date.setDate(date.getDate() + 7);\n        break;\n      case 'monthly':\n        date.setMonth(date.getMonth() + 1);\n        break;\n    }\n    return date.toISOString().split('T')[0];\n  };\n\n  const shouldCreateNextOccurrence = (task: Task): boolean => {\n    if (!task.isRepeating || !task.repeatFrequency) return false;\n    if (task.repeatEndDate) {\n      const endDate = new Date(task.repeatEndDate);\n      const nextDate = new Date(getNextOccurrenceDate(task.startDate, task.repeatFrequency));\n      return nextDate <= endDate;\n    }\n    return true; // No end date, repeat indefinitely\n  };\n\n  const generateMissingRepeatingOccurrences = async (tasks: Task[], userId: string) => {\n    const db = getFirestore();\n    const now = new Date();\n    const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n    const createdTasks: string[] = [];\n\n    for (const task of tasks) {\n      // Only process the original repeating task (not occurrences)\n      // Original tasks are those that match the original startDate\n      if (!task.isRepeating || !task.repeatFrequency || !task.startDate) continue;\n\n      // Skip if this is already an occurrence (check if there's a task with earlier date and same title)\n      const isOriginalTask = !tasks.some(t =>\n        t.id !== task.id &&\n        t.isRepeating === task.isRepeating &&\n        t.repeatFrequency === task.repeatFrequency &&\n        t.title === task.title &&\n        t.userId === task.userId &&\n        t.startDate < task.startDate\n      );\n\n      if (!isOriginalTask) continue; // Skip occurrences, only process originals\n\n      // Check if we should create occurrences for this repeating task\n      if (!shouldCreateNextOccurrence(task)) continue;\n\n      const originalDate = new Date(task.startDate);\n      const todayDate = new Date(today);\n\n      // Only generate occurrence for TODAY if it doesn't exist\n      // Don't carry forward missed occurrences from past dates\n      const occurrenceDate = today;\n\n      // Skip if today is before the original start date\n      if (todayDate < originalDate) continue;\n\n      // Check if occurrence already exists in current tasks list\n      const existingTask = tasks.find(t =>\n        t.title === task.title &&\n        t.startDate === occurrenceDate &&\n        t.userId === task.userId &&\n        t.isRepeating === task.isRepeating &&\n        t.repeatFrequency === task.repeatFrequency\n      );\n\n      // Also check database directly to avoid duplicates\n      if (!existingTask) {\n        const checkQuery = query(\n          collection(db, 'tasks'),\n          where('userId', '==', userId),\n          where('title', '==', task.title),\n          where('startDate', '==', occurrenceDate),\n          where('isRepeating', '==', true),\n          where('repeatFrequency', '==', task.repeatFrequency)\n        );\n        const checkSnapshot = await getDocs(checkQuery);\n\n        if (checkSnapshot.empty) {\n          // Check if this occurrence was explicitly deleted\n          const deletedOccurrences = task.deletedOccurrences || [];\n          if (deletedOccurrences.includes(occurrenceDate)) {\n            // Skip this occurrence - it was explicitly deleted by user\n            continue;\n          }\n\n          // Check if we're within the repeat end date\n          if (task.repeatEndDate) {\n            const endDate = new Date(task.repeatEndDate);\n            if (todayDate > endDate) continue;\n          }\n\n          // Create today's occurrence\n          const nextTaskData = {\n            title: task.title,\n            description: task.description,\n            startDate: occurrenceDate,\n            startTime: task.startTime || null,\n            status: 'todo',\n            priority: task.priority,\n            tags: task.tags || [],\n            isRepeating: task.isRepeating,\n            repeatFrequency: task.repeatFrequency,\n            repeatEndDate: task.repeatEndDate || null,\n            userId: task.userId,\n            createdAt: Timestamp.now(),\n            completed: false\n          };\n\n          try {\n            await addDoc(collection(db, 'tasks'), nextTaskData);\n            createdTasks.push(occurrenceDate);\n          } catch (error) {\n            console.error(`Error creating occurrence for ${occurrenceDate}:`, error);\n          }\n        }\n      }\n    }\n\n    return createdTasks.length > 0;\n  };\n\n  const loadTasks = async (userId: string) => {\n    setLoading(true);\n    try {\n      const db = getFirestore();\n      const tasksRef = collection(db, 'tasks');\n      const q = query(tasksRef, where('userId', '==', userId));\n      const querySnapshot = await getDocs(q);\n\n      const allTasks: Task[] = [];\n      querySnapshot.forEach((doc) => {\n        allTasks.push({ id: doc.id, ...doc.data() } as Task);\n      });\n\n      // Generate missing repeating task occurrences (using all tasks including soft-deleted)\n      const hasNewOccurrences = await generateMissingRepeatingOccurrences(allTasks, userId);\n\n      // Reload tasks if new occurrences were created\n      if (hasNewOccurrences) {\n        const updatedSnapshot = await getDocs(q);\n        allTasks.length = 0; // Clear array\n        updatedSnapshot.forEach((doc) => {\n          allTasks.push({ id: doc.id, ...doc.data() } as Task);\n        });\n      }\n\n      // Filter out soft-deleted tasks for display\n      const now = new Date();\n      const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n\n      const visibleTasks = allTasks.filter(t => {\n        // Filter out soft-deleted tasks\n        if (t.isDeleted) return false;\n\n        // For recurring tasks, hide past occurrences (both completed and incomplete)\n        // This prevents showing the original parent task when we have today's occurrence\n        if (t.isRepeating) {\n          const taskDate = t.startDate?.split('T')[0];\n          if (taskDate && taskDate < today) {\n            // Only show past recurring tasks if they're completed\n            // This allows viewing completed history but hides incomplete past tasks\n            if (t.status !== 'completed' && !t.completed) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n      });\n\n      setTasks(visibleTasks);\n\n      // Filter today's tasks - include repeating tasks even if previous day wasn't completed\n      const todayTasks = visibleTasks.filter(task => {\n        if (!task.startDate) return false;\n        // Ensure we're comparing dates correctly (YYYY-MM-DD format)\n        const taskDate = task.startDate.split('T')[0]; // Handle any time component\n        return taskDate === today;\n      });\n      setTodaysTasks(todayTasks);\n    } catch (error) {\n      console.error('Error loading tasks:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n\n  const handleMoveToToday = async (taskId: string) => {\n    try {\n      const db = getFirestore();\n      const taskRef = doc(db, 'tasks', taskId);\n      const now = new Date();\n      const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n\n      await updateDoc(taskRef, {\n        startDate: today,\n        updatedAt: new Date()\n      });\n\n      // Reload tasks\n      if (user) {\n        await loadTasks(user.uid);\n      }\n    } catch (error) {\n      console.error('Error moving task to today:', error);\n      alert('Failed to move task to today');\n    }\n  };\n\n  const handleIgnoreTask = async (taskId: string) => {\n    try {\n      const db = getFirestore();\n      const taskRef = doc(db, 'tasks', taskId);\n\n      await updateDoc(taskRef, {\n        ignored: true,\n        updatedAt: new Date()\n      });\n\n      // Reload tasks\n      if (user) {\n        await loadTasks(user.uid);\n      }\n    } catch (error) {\n      console.error('Error ignoring task:', error);\n      alert('Failed to ignore task');\n    }\n  };\n\n  const handleCreateMissingOccurrence = async (task: Task) => {\n    try {\n      const db = getFirestore();\n      const now = new Date();\n      const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n\n      const taskData = {\n        title: task.title,\n        description: task.description,\n        startDate: today,\n        startTime: task.startTime || null,\n        status: 'todo',\n        priority: task.priority,\n        tags: task.tags || [],\n        isRepeating: task.isRepeating,\n        repeatFrequency: task.repeatFrequency,\n        repeatEndDate: task.repeatEndDate || null,\n        userId: task.userId,\n        createdAt: Timestamp.now(),\n        completed: false\n      };\n\n      await addDoc(collection(db, 'tasks'), taskData);\n\n      // Reload tasks\n      if (user) {\n        await loadTasks(user.uid);\n      }\n    } catch (error) {\n      console.error('Error creating missing occurrence:', error);\n      alert('Failed to create task');\n    }\n  };\n\n  const handleAddTaskInline = async (taskData: {\n    title: string;\n    description: string;\n    startDate: string;\n    startTime: string;\n    priority: 'low' | 'medium' | 'high';\n    tags: string[];\n    isRepeating: boolean;\n    repeatFrequency: 'daily' | 'weekly' | 'monthly';\n    repeatEndDate: string;\n    mode: 'personal' | 'professional';\n    subtasks?: { id: string; title: string; completed: boolean }[];\n    projectId?: string;\n  }) => {\n    if (!user) {\n      alert('You must be logged in to create a task');\n      return;\n    }\n\n    try {\n      const db = getFirestore();\n\n      const firestoreData: any = {\n        title: taskData.title,\n        description: taskData.description,\n        startDate: taskData.startDate,\n        startTime: taskData.startTime || null,\n        priority: taskData.priority,\n        tags: taskData.tags,\n        isRepeating: taskData.isRepeating,\n        repeatFrequency: taskData.isRepeating ? taskData.repeatFrequency : null,\n        repeatEndDate: taskData.isRepeating ? taskData.repeatEndDate : null,\n        status: 'todo',\n        userId: user.uid,\n        createdAt: Timestamp.now(),\n        mode: taskData.mode || 'personal',\n        subtasks: taskData.subtasks || []\n      };\n\n      // Add projectId if provided, or use currently selected project\n      if (taskData.projectId) {\n        firestoreData.projectId = taskData.projectId;\n      } else if (selectedProjectId) {\n        firestoreData.projectId = selectedProjectId;\n      }\n\n      await addDoc(collection(db, 'tasks'), firestoreData);\n      setShowAddForm(false);\n\n      // Reload tasks\n      await loadTasks(user.uid);\n    } catch (error: any) {\n      console.error('Error saving task:', error);\n      alert(`Failed to save task: ${error.message}`);\n    }\n  };\n\n  const handleToggleComplete = async (task: Task) => {\n    try {\n      const db = getFirestore();\n      const taskRef = doc(db, 'tasks', task.id);\n      const newStatus = task.status === 'completed' ? 'todo' : 'completed';\n\n      await updateDoc(taskRef, {\n        status: newStatus,\n        completed: newStatus === 'completed',\n        completedAt: newStatus === 'completed' ? new Date() : null,\n        updatedAt: new Date()\n      });\n\n      // If task is being marked as complete and is repeating, create next occurrence\n      if (newStatus === 'completed' && shouldCreateNextOccurrence(task)) {\n        const nextDate = getNextOccurrenceDate(task.startDate, task.repeatFrequency!);\n        const now = new Date();\n        const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n\n        // Only create if next occurrence is in the future or today\n        if (nextDate >= today) {\n          const nextTaskData = {\n            title: task.title,\n            description: task.description,\n            startDate: nextDate,\n            startTime: task.startTime || null,\n            status: 'todo',\n            priority: task.priority,\n            tags: task.tags || [],\n            isRepeating: task.isRepeating,\n            repeatFrequency: task.repeatFrequency,\n            repeatEndDate: task.repeatEndDate || null,\n            userId: task.userId,\n            createdAt: Timestamp.now(),\n            completed: false\n          };\n\n          await addDoc(collection(db, 'tasks'), nextTaskData);\n        }\n      }\n\n      // Reload tasks\n      if (user) {\n        await loadTasks(user.uid);\n      }\n    } catch (error) {\n      console.error('Error toggling task:', error);\n      alert('Failed to update task');\n    }\n  };\n\n  const totalTasks = tasks.length;\n  const completedTasks = tasks.filter(t => t.status === 'completed' || t.completed).length;\n  const pendingTasks = tasks.filter(t => t.status !== 'completed' && !t.completed && t.status !== 'in_progress').length;\n  const inProgressTasks = tasks.filter(t => t.status === 'in_progress').length;\n  const completionRate = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;\n\n  // Get pending tasks from past days (not today, not completed, not ignored)\n  // This includes both regular tasks and missing repeating task occurrences\n  const now = new Date();\n  const today = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n  const pastPendingTasks: Task[] = [];\n\n  // First, add regular tasks from past days\n  tasks.forEach(t => {\n    if (t.status === 'completed' || t.completed) return;\n    if ((t as any).ignored) return;\n    if (!t.startDate) return;\n\n    // Exclude repetitive tasks from past pending list as requested\n    if (t.isRepeating) return;\n\n    const taskDate = t.startDate.split('T')[0];\n    if (taskDate < today) {\n      pastPendingTasks.push(t);\n    }\n  });\n\n  // Note: Logic for finding missing repeating task occurrences has been removed\n  // as per requirement to not show past pending repetitive tasks.\n\n\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'high': return 'bg-red-100 text-red-800';\n      case 'medium': return 'bg-yellow-100 text-yellow-800';\n      case 'low': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Floating Add Task Button */}\n        {!showAddForm && (\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"fixed bottom-8 right-8 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 hover:shadow-xl transition-all duration-200 flex items-center justify-center z-50\"\n            title=\"Add New Task\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n            </svg>\n          </button>\n        )}\n\n        {/* Task Creation Form - New Compact Component */}\n        <AddTaskInline\n          isOpen={showAddForm}\n          onSubmit={handleAddTaskInline}\n          onCancel={() => setShowAddForm(false)}\n        />\n\n        {/* Email Verification Banner - Only show if not verified and account < 1 week */}\n        {showEmailVerification && (\n          <div className=\"mb-6 bg-amber-50 border border-amber-200 rounded-lg p-4\">\n            <div className=\"flex items-start\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-amber-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3 flex-1\">\n                <h3 className=\"text-sm font-medium text-amber-800\">Email Verification Pending</h3>\n                <p className=\"mt-1 text-sm text-amber-700\">\n                  Please verify your email address to access all features.\n                </p>\n              </div>\n              <button\n                onClick={() => setShowEmailVerification(false)}\n                className=\"ml-auto flex-shrink-0 text-amber-400 hover:text-amber-600\"\n              >\n                ‚úï\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Task Statistics - 3 Main Tiles */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          {/* Today's Tasks */}\n          <Link\n            to=\"/tasks?filter=today\"\n            className=\"bg-white rounded-lg shadow-lg p-6 block hover:shadow-xl transition-shadow cursor-pointer\"\n          >\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Today's Tasks</h3>\n              <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                </svg>\n              </div>\n            </div>\n            <div className=\"text-4xl font-bold text-purple-600 mb-2\">{todaysTasks.length}</div>\n            <div className=\"flex justify-between items-center\">\n              <p className=\"text-sm text-gray-500\">\n                {todaysTasks.filter(t => t.status === 'completed').length} completed\n              </p>\n              <span className=\"text-xs text-purple-600 font-medium\">\n                View All ‚Üí\n              </span>\n            </div>\n          </Link>\n\n          {/* All Tasks */}\n          <div className=\"bg-white rounded-lg shadow-lg p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">All Tasks</h3>\n              <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                </svg>\n              </div>\n            </div>\n            <div className=\"text-4xl font-bold text-blue-600 mb-4\">{totalTasks}</div>\n            <div className=\"space-y-2 text-sm mb-4\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Pending:</span>\n                <span className=\"font-medium text-gray-900\">{pendingTasks}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">In Progress:</span>\n                <span className=\"font-medium text-gray-900\">{inProgressTasks}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Completed:</span>\n                <span className=\"font-medium text-gray-900\">{completedTasks}</span>\n              </div>\n            </div>\n            <Link\n              to=\"/tasks\"\n              className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n            >\n              View all ‚Üí\n            </Link>\n          </div>\n\n          {/* Task Progress */}\n          <Link\n            to=\"/analytics\"\n            className=\"bg-white rounded-lg shadow-lg p-6 block hover:shadow-xl transition-shadow cursor-pointer\"\n          >\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Task Progress</h3>\n              <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                </svg>\n              </div>\n            </div>\n            <div className=\"flex items-end gap-2 mb-2\">\n              <div className=\"text-4xl font-bold text-green-600\">{completionRate}%</div>\n              <div className=\"text-sm text-gray-500 pb-1\">complete</div>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2 mb-3\">\n              <div\n                className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${completionRate}%` }}\n              ></div>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <p className=\"text-sm text-gray-500\">\n                {completedTasks} of {totalTasks} tasks\n              </p>\n              <span className=\"text-xs text-green-600 font-medium\">\n                View Analytics ‚Üí\n              </span>\n            </div>\n          </Link>\n        </div>\n\n        {/* Pending Tasks from Past Days */}\n        {pastPendingTasks.length > 0 && (\n          <div className=\"bg-orange-50 border border-orange-200 rounded-lg shadow mb-8\">\n            <div className=\"p-6 border-b border-orange-200 flex justify-between items-center\">\n              <div>\n                <h2 className=\"text-xl font-semibold text-orange-900 flex items-center gap-2\">\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  Pending Tasks from Past Days\n                </h2>\n                <p className=\"text-sm text-orange-700 mt-1\">\n                  {pastPendingTasks.length} task{pastPendingTasks.length !== 1 ? 's' : ''} waiting to be completed\n                </p>\n              </div>\n            </div>\n\n            <div className=\"divide-y divide-orange-200\">\n              {pastPendingTasks.map((task) => (\n                <div key={task.id} className=\"p-4 hover:bg-orange-100 flex items-center gap-3\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <h3 className=\"text-base font-medium text-gray-900\">\n                        {task.title}\n                      </h3>\n                      <span className={`px-2 py-0.5 text-xs font-medium rounded ${getPriorityColor(task.priority)}`}>\n                        {task.priority}\n                      </span>\n                    </div>\n                    {task.description && (\n                      <p className=\"text-sm text-gray-600 mb-1\">\n                        {task.description}\n                      </p>\n                    )}\n                    <p className=\"text-xs text-orange-600\">\n                      {task.id.startsWith('missing-') ? (\n                        <>Missing occurrence from: {new Date(task.startDate).toLocaleDateString()} (Repeating task)</>\n                      ) : (\n                        <>Originally scheduled: {new Date(task.startDate).toLocaleDateString()}</>\n                      )}\n                    </p>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => {\n                        if (task.id.startsWith('missing-')) {\n                          // Create the missing occurrence\n                          handleCreateMissingOccurrence(task);\n                        } else {\n                          handleMoveToToday(task.id);\n                        }\n                      }}\n                      className=\"px-3 py-2 bg-orange-600 text-white text-sm rounded-md hover:bg-orange-700 font-medium whitespace-nowrap\"\n                    >\n                      {task.id.startsWith('missing-') ? 'Create & Move to Today' : 'Move to Today'}\n                    </button>\n                    {!task.id.startsWith('missing-') && (\n                      <button\n                        onClick={() => handleIgnoreTask(task.id)}\n                        className=\"px-3 py-2 bg-gray-400 text-white text-sm rounded-md hover:bg-gray-500 font-medium whitespace-nowrap\"\n                        title=\"Ignore this task\"\n                      >\n                        Ignore\n                      </button>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Today's Tasks List */}\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-xl font-semibold\">Today's Tasks</h2>\n              <Link\n                to=\"/tasks?filter=today\"\n                className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n              >\n                View all tasks ‚Üí\n              </Link>\n            </div>\n\n            {/* Mode Filter Tabs */}\n            <div className=\"flex border-b border-gray-200\">\n              <button\n                onClick={() => {\n                  setModeFilter('all');\n                  localStorage.setItem('taskModeFilter', 'all');\n                }}\n                className={`px-4 py-2 font-medium text-sm ${modeFilter === 'all'\n                  ? 'border-b-2 border-green-600 text-green-600'\n                  : 'text-gray-600 hover:text-gray-900'\n                  }`}\n              >\n                All Modes\n              </button>\n              <button\n                onClick={() => {\n                  setModeFilter('personal');\n                  localStorage.setItem('taskModeFilter', 'personal');\n                }}\n                className={`px-4 py-2 font-medium text-sm ${modeFilter === 'personal'\n                  ? 'border-b-2 border-green-600 text-green-600'\n                  : 'text-gray-600 hover:text-gray-900'\n                  }`}\n              >\n                üè† Personal\n              </button>\n              <button\n                onClick={() => {\n                  setModeFilter('professional');\n                  localStorage.setItem('taskModeFilter', 'professional');\n                }}\n                className={`px-4 py-2 font-medium text-sm ${modeFilter === 'professional'\n                  ? 'border-b-2 border-green-600 text-green-600'\n                  : 'text-gray-600 hover:text-gray-900'\n                  }`}\n              >\n                üíº Professional\n              </button>\n            </div>\n\n            {/* Projects Filter - Only show when a specific mode is selected */}\n            {modeFilter !== 'all' && projects.length > 0 && (\n              <div className=\"mt-3 flex items-center gap-2\">\n                <button\n                  onClick={() => setShowProjectsPanel(!showProjectsPanel)}\n                  className=\"flex items-center gap-2 px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors\"\n                >\n                  <span>üìÅ</span>\n                  <span className=\"font-medium\">\n                    {selectedProjectId\n                      ? projects.find(p => p.id === selectedProjectId)?.name || 'Project'\n                      : 'All Projects'}\n                  </span>\n                  <svg className={`w-4 h-4 transition-transform ${showProjectsPanel ? 'rotate-180' : ''}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n                {selectedProjectId && (\n                  <button\n                    onClick={() => setSelectedProjectId(undefined)}\n                    className=\"text-xs text-gray-500 hover:text-gray-700\"\n                  >\n                    Clear filter\n                  </button>\n                )}\n              </div>\n            )}\n\n            {/* Projects Dropdown Panel */}\n            {showProjectsPanel && modeFilter !== 'all' && (\n              <div className=\"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200\">\n                <div className=\"grid grid-cols-2 gap-2\">\n                  <button\n                    onClick={() => {\n                      setSelectedProjectId(undefined);\n                      setShowProjectsPanel(false);\n                    }}\n                    className={`p-2 text-left text-sm rounded-md transition-colors ${!selectedProjectId\n                      ? 'bg-blue-100 text-blue-700 font-medium'\n                      : 'hover:bg-gray-100 text-gray-700'\n                      }`}\n                  >\n                    üìã All Projects\n                  </button>\n                  {projects.map(project => (\n                    <button\n                      key={project.id}\n                      onClick={() => {\n                        setSelectedProjectId(project.id);\n                        setShowProjectsPanel(false);\n                      }}\n                      className={`p-2 text-left text-sm rounded-md transition-colors flex items-center gap-2 ${selectedProjectId === project.id\n                        ? 'bg-blue-100 text-blue-700 font-medium'\n                        : 'hover:bg-gray-100 text-gray-700'\n                        }`}\n                    >\n                      <span style={{ color: project.color }}>{project.icon}</span>\n                      <span className=\"truncate\">{project.name}</span>\n                      <span className=\"ml-auto text-xs text-gray-400\">{project.taskCount}</span>\n                    </button>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {loading ? (\n            <div className=\"p-8 text-center text-gray-500\">Loading tasks...</div>\n          ) : todaysTasks.length === 0 ? (\n            <div className=\"p-8 text-center\">\n              <svg className=\"mx-auto h-12 w-12 text-gray-400 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n              </svg>\n              <p className=\"text-gray-500 mb-3\">No tasks scheduled for today</p>\n              <Link\n                to=\"/tasks\"\n                className=\"inline-block px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium text-sm\"\n              >\n                Add a task\n              </Link>\n            </div>\n          ) : (\n            <div className=\"divide-y divide-gray-200\">\n              {(() => {\n                // Filter tasks by mode and project\n                let filteredTasks = modeFilter === 'all'\n                  ? todaysTasks\n                  : todaysTasks.filter(task => (task.mode || 'personal') === modeFilter);\n\n                // Further filter by project if one is selected\n                if (selectedProjectId) {\n                  filteredTasks = filteredTasks.filter(task =>\n                    (task as any).projectId === selectedProjectId\n                  );\n                }\n\n                const tasksToShow = showAllTodayTasks ? filteredTasks : filteredTasks.slice(0, 5);\n\n                return tasksToShow.map((task) => (\n                  <div key={task.id} className=\"p-4 hover:bg-gray-50 flex items-center gap-3\">\n                    <input\n                      type=\"checkbox\"\n                      checked={task.status === 'completed' || task.completed === true}\n                      onChange={() => handleToggleComplete(task)}\n                      className=\"h-5 w-5 text-blue-600 rounded cursor-pointer\"\n                    />\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2\">\n                        <h3 className={`text-base font-medium ${(task.status === 'completed' || task.completed === true) ? 'line-through text-gray-400' : 'text-gray-900'}`}>\n                          {task.title}\n                        </h3>\n                        <span className={`px-2 py-0.5 text-xs font-medium rounded ${getPriorityColor(task.priority)}`}>\n                          {task.priority}\n                        </span>\n                        {modeFilter === 'all' && (\n                          <span className={`px-2 py-0.5 text-xs font-medium rounded whitespace-nowrap ${(task.mode || 'personal') === 'personal'\n                            ? 'bg-blue-100 text-blue-800'\n                            : 'bg-orange-100 text-orange-800'\n                            }`}>\n                            {(task.mode || 'personal') === 'personal' ? 'üè† Personal' : 'üíº Professional'}\n                          </span>\n                        )}\n                      </div>\n                      {task.description && (\n                        <p className={`text-sm mt-1 ${(task.status === 'completed' || task.completed === true) ? 'text-gray-400' : 'text-gray-600'}`}>\n                          {task.description}\n                        </p>\n                      )}\n                    </div>\n                    <span className=\"text-xs text-gray-500\">\n                      {task.startTime || 'All day'}\n                    </span>\n                  </div>\n                ));\n              })()}\n              {todaysTasks.length > 5 && (\n                <div className=\"p-4 text-center\">\n                  {!showAllTodayTasks ? (\n                    <button\n                      onClick={() => setShowAllTodayTasks(true)}\n                      className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n                    >\n                      View {todaysTasks.length - 5} more tasks ‚Üí\n                    </button>\n                  ) : (\n                    <button\n                      onClick={() => setShowAllTodayTasks(false)}\n                      className=\"text-sm text-gray-600 hover:text-gray-700 font-medium\"\n                    >\n                      Show less ‚Üë\n                    </button>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["Dashboard","user","setUser","useState","tasks","setTasks","todaysTasks","setTodaysTasks","loading","setLoading","showEmailVerification","setShowEmailVerification","showAllTodayTasks","setShowAllTodayTasks","showAddForm","setShowAddForm","modeFilter","setModeFilter","projects","setProjects","selectedProjectId","setSelectedProjectId","showProjectsPanel","setShowProjectsPanel","useEffect","currentUser","getAuth","createdAt","accountAge","oneWeek","loadTasks","unsubscribe","projectService","projectList","getNextOccurrenceDate","currentDate","frequency","date","shouldCreateNextOccurrence","task","endDate","generateMissingRepeatingOccurrences","userId","db","getFirestore","now","today","createdTasks","t","originalDate","todayDate","occurrenceDate","checkQuery","query","collection","where","getDocs","nextTaskData","Timestamp","addDoc","error","tasksRef","q","querySnapshot","allTasks","doc","updatedSnapshot","visibleTasks","taskDate","todayTasks","handleMoveToToday","taskId","taskRef","updateDoc","handleIgnoreTask","handleCreateMissingOccurrence","taskData","handleAddTaskInline","firestoreData","handleToggleComplete","newStatus","nextDate","totalTasks","completedTasks","pendingTasks","inProgressTasks","completionRate","pastPendingTasks","getPriorityColor","priority","jsxs","jsx","AddTaskInline","Link","Fragment","p","project","filteredTasks"],"mappings":"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"}