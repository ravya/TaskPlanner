{"version":3,"file":"Register-DE0Q0LPb.js","sources":["../../src/pages/Register.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getAuth, createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\n\nexport default function Register() {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    setError(''); // Clear error when user types\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    // Validation\n    if (!formData.name.trim()) {\n      setError('Please enter your name');\n      setLoading(false);\n      return;\n    }\n\n    if (formData.password.length < 8) {\n      setError('Password must be at least 8 characters');\n      setLoading(false);\n      return;\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Passwords do not match');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const auth = getAuth();\n\n      // Create user account\n      const userCredential = await createUserWithEmailAndPassword(\n        auth,\n        formData.email,\n        formData.password\n      );\n\n      // Update display name\n      if (userCredential.user) {\n        await updateProfile(userCredential.user, {\n          displayName: formData.name\n        });\n      }\n\n      // Success! Redirect to dashboard\n      navigate('/');\n    } catch (err: any) {\n      console.error('Registration error:', err);\n\n      // User-friendly error messages\n      switch (err.code) {\n        case 'auth/email-already-in-use':\n          setError('This email is already registered. Please login instead.');\n          break;\n        case 'auth/invalid-email':\n          setError('Invalid email address');\n          break;\n        case 'auth/weak-password':\n          setError('Password is too weak. Please use a stronger password.');\n          break;\n        default:\n          setError(err.message || 'Registration failed. Please try again.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">TaskFlow</h1>\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Create your account</h2>\n        </div>\n\n        <div className=\"bg-white py-8 px-6 shadow rounded-lg\">\n          {error && (\n            <div className=\"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n              <span className=\"block sm:inline\">{error}</span>\n            </div>\n          )}\n\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\n            <div>\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Full Name\n              </label>\n              <input\n                id=\"name\"\n                name=\"name\"\n                type=\"text\"\n                required\n                value={formData.name}\n                onChange={handleChange}\n                disabled={loading}\n                className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                placeholder=\"John Doe\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email address\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                required\n                value={formData.email}\n                onChange={handleChange}\n                disabled={loading}\n                className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                placeholder=\"you@example.com\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                required\n                value={formData.password}\n                onChange={handleChange}\n                disabled={loading}\n                className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                placeholder=\"••••••••\"\n              />\n              <p className=\"mt-1 text-xs text-gray-500\">At least 8 characters</p>\n            </div>\n\n            <div>\n              <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Confirm Password\n              </label>\n              <input\n                id=\"confirmPassword\"\n                name=\"confirmPassword\"\n                type=\"password\"\n                required\n                value={formData.confirmPassword}\n                onChange={handleChange}\n                disabled={loading}\n                className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                placeholder=\"••••••••\"\n              />\n            </div>\n\n            <div>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300 disabled:cursor-not-allowed\"\n              >\n                {loading ? 'Creating account...' : 'Create account'}\n              </button>\n            </div>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-gray-600\">\n              Already have an account?{' '}\n              <a href=\"/login\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n                Sign in here\n              </a>\n            </p>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n"],"names":["Register","navigate","useNavigate","formData","setFormData","useState","error","setError","loading","setLoading","handleChange","e","handleSubmit","auth","getAuth","userCredential","createUserWithEmailAndPassword","updateProfile","err","jsxs","jsx"],"mappings":"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"}